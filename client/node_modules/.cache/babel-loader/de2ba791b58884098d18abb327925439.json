{"ast":null,"code":"var _jsxFileName = \"/home/rlyz/wdi/sei-24-project-3/client/src/Components/User/IndivStore/CheckoutForm.js\";\nimport React from 'react';\nimport { useStripe, useElements, CardElement } from '@stripe/react-stripe-js';\nvar result = false;\nexport default function Checkout(props) {\n  const stripe = useStripe();\n  const elements = useElements();\n\n  const handleSubmit = async event => {\n    // Block native form submission.\n    event.preventDefault();\n\n    if (!stripe || !elements) {\n      // Stripe.js has not loaded yet. Make sure to disable\n      // form submission until Stripe.js has loaded.\n      return;\n    } // Get a reference to a mounted CardElement. Elements knows how\n    // to find your CardElement because there can only ever be one of\n    // each type of element.\n\n\n    const cardElement = elements.getElement(CardElement); // Use your card Element with other Stripe.js APIs\n\n    const {\n      error,\n      paymentMethod\n    } = await stripe.createPaymentMethod({\n      type: 'card',\n      card: cardElement\n    });\n\n    if (error) {\n      console.log('[error]', error);\n    } else {\n      console.log('[PaymentMethod]', paymentMethod);\n      fetch('/submitOrder', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          card: paymentMethod,\n          order: props.data\n        })\n      }).then(res => res.json()).then(res => {\n        switch (res) {\n          case \"Payment Complete\":\n            {}\n\n          case \"Payment Failed\":\n            {\n              result = true;\n            }\n\n          case \"Insufficient Inventory\":\n            {}\n        }\n      });\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"form\", {\n    style: {\n      maxWidth: \"500px\",\n      margin: \"0 auto\"\n    },\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CardElement, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    disabled: !stripe,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }, \"Pay\"), result ? /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      color: 'red'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 23\n    }\n  }, \"Payment Failed\") : null);\n}","map":{"version":3,"sources":["/home/rlyz/wdi/sei-24-project-3/client/src/Components/User/IndivStore/CheckoutForm.js"],"names":["React","useStripe","useElements","CardElement","result","Checkout","props","stripe","elements","handleSubmit","event","preventDefault","cardElement","getElement","error","paymentMethod","createPaymentMethod","type","card","console","log","fetch","method","headers","body","JSON","stringify","order","data","then","res","json","maxWidth","margin","color"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,EAAoBC,WAApB,EAAiCC,WAAjC,QAAoD,yBAApD;AACA,IAAIC,MAAM,GAAG,KAAb;AACA,eAAe,SAASC,QAAT,CAAkBC,KAAlB,EAAyB;AAGpC,QAAMC,MAAM,GAAGN,SAAS,EAAxB;AACA,QAAMO,QAAQ,GAAGN,WAAW,EAA5B;;AAEA,QAAMO,YAAY,GAAG,MAAOC,KAAP,IAAiB;AAClC;AACAA,IAAAA,KAAK,CAACC,cAAN;;AAEA,QAAI,CAACJ,MAAD,IAAW,CAACC,QAAhB,EAA0B;AACtB;AACA;AACA;AACH,KARiC,CAUlC;AACA;AACA;;;AACA,UAAMI,WAAW,GAAGJ,QAAQ,CAACK,UAAT,CAAoBV,WAApB,CAApB,CAbkC,CAelC;;AACA,UAAM;AAAEW,MAAAA,KAAF;AAASC,MAAAA;AAAT,QAA2B,MAAMR,MAAM,CAACS,mBAAP,CAA2B;AAC9DC,MAAAA,IAAI,EAAE,MADwD;AAE9DC,MAAAA,IAAI,EAAEN;AAFwD,KAA3B,CAAvC;;AAKA,QAAIE,KAAJ,EAAW;AACPK,MAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBN,KAAvB;AACH,KAFD,MAEO;AACHK,MAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+BL,aAA/B;AACAM,MAAAA,KAAK,CAAC,cAAD,EAAiB;AAClBC,QAAAA,MAAM,EAAE,MADU;AAElBC,QAAAA,OAAO,EAAE;AACL,0BAAgB;AADX,SAFS;AAKlBC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACjBR,UAAAA,IAAI,EAAEH,aADW;AAEjBY,UAAAA,KAAK,EAAErB,KAAK,CAACsB;AAFI,SAAf;AALY,OAAjB,CAAL,CAUKC,IAVL,CAUUC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EAVjB,EAWKF,IAXL,CAWUC,GAAG,IAAI;AACT,gBAAQA,GAAR;AACI,eAAK,kBAAL;AAAyB,aAExB;;AACD,eAAK,gBAAL;AAAuB;AACnB1B,cAAAA,MAAM,GAAG,IAAT;AACH;;AACD,eAAK,wBAAL;AAA+B,aAE9B;AATL;AAaH,OAzBL;AA0BH;AACJ,GApDD;;AAsDA,sBACI;AAAM,IAAA,KAAK,EAAE;AAAE4B,MAAAA,QAAQ,EAAE,OAAZ;AAAqBC,MAAAA,MAAM,EAAE;AAA7B,KAAb;AAAsD,IAAA,QAAQ,EAAExB,YAAhE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,eAEI;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAsB,IAAA,QAAQ,EAAE,CAACF,MAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAFJ,EAKKH,MAAM,gBAAG;AAAM,IAAA,KAAK,EAAE;AAAE8B,MAAAA,KAAK,EAAE;AAAT,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAH,GAA0D,IALrE,CADJ;AASH","sourcesContent":["import React from 'react'\r\nimport { useStripe, useElements, CardElement } from '@stripe/react-stripe-js';\r\nvar result = false\r\nexport default function Checkout(props) {\r\n\r\n\r\n    const stripe = useStripe();\r\n    const elements = useElements();\r\n\r\n    const handleSubmit = async (event) => {\r\n        // Block native form submission.\r\n        event.preventDefault();\r\n\r\n        if (!stripe || !elements) {\r\n            // Stripe.js has not loaded yet. Make sure to disable\r\n            // form submission until Stripe.js has loaded.\r\n            return;\r\n        }\r\n\r\n        // Get a reference to a mounted CardElement. Elements knows how\r\n        // to find your CardElement because there can only ever be one of\r\n        // each type of element.\r\n        const cardElement = elements.getElement(CardElement);\r\n\r\n        // Use your card Element with other Stripe.js APIs\r\n        const { error, paymentMethod } = await stripe.createPaymentMethod({\r\n            type: 'card',\r\n            card: cardElement,\r\n        });\r\n\r\n        if (error) {\r\n            console.log('[error]', error);\r\n        } else {\r\n            console.log('[PaymentMethod]', paymentMethod);\r\n            fetch('/submitOrder', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify({\r\n                    card: paymentMethod,\r\n                    order: props.data\r\n                })\r\n            })\r\n                .then(res => res.json())\r\n                .then(res => {\r\n                    switch (res) {\r\n                        case \"Payment Complete\": {\r\n\r\n                        }\r\n                        case \"Payment Failed\": {\r\n                            result = true\r\n                        }\r\n                        case \"Insufficient Inventory\": {\r\n\r\n                        }\r\n\r\n\r\n                    }\r\n                })\r\n        }\r\n    };\r\n\r\n    return (\r\n        <form style={{ maxWidth: \"500px\", margin: \"0 auto\" }} onSubmit={handleSubmit}>\r\n            <CardElement />\r\n            <button type=\"submit\" disabled={!stripe}>\r\n                Pay\r\n        </button>\r\n            {result ? <span style={{ color: 'red' }}>Payment Failed</span> : null}\r\n        </form>\r\n    );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}