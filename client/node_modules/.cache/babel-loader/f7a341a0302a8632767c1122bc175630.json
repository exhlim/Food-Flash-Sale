{"ast":null,"code":"var _jsxFileName = \"/Users/aurelialim/wdi/SEI-24-Project-3/client/src/Components/User/OrderHistory/OrderHistory.js\";\nimport React, { Component } from \"react\";\nimport OrderDetails from \"./OrderDetails/OrderDetails\";\nimport { withRouter } from \"react-router-dom\";\nimport RatingStarsContainer from \"./OrderDetails/RatingStarsContainer\";\n\nclass OrderHistory extends Component {\n  constructor() {\n    super();\n    this.state = {\n      orderHistory: [],\n      fetch: false\n    };\n  }\n\n  componentDidMount() {\n    fetch(\"/orderhistory\").then(res => res.json()).then(res => this.setState({\n      orderHistory: res,\n      fetch: true\n    }));\n  } // componentWillUnmount() {\n  //     this.setState({\n  //         fetch: false\n  //     })\n  // }\n\n\n  render() {\n    const orderHistory = this.state.orderHistory.map((orderHistory, index) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 11\n        }\n      }, orderHistory.receipt_id, orderHistory.name, \" \", orderHistory.cuisine), /*#__PURE__*/React.createElement(OrderDetails, {\n        user_id: orderHistory.user_id,\n        receipt_id: orderHistory.receipt_id,\n        merchant_id: orderHistory.merchant_id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(\"button\", {\n        onClick: e => {\n          e.persist();\n          e.preventDefault();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 11\n        }\n      }, \"Order Again\"));\n    });\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"orderHistoryWrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 7\n      }\n    }, this.state.fetch ? orderHistory : null);\n  }\n\n}\n\nexport default withRouter(OrderHistory);","map":{"version":3,"sources":["/Users/aurelialim/wdi/SEI-24-Project-3/client/src/Components/User/OrderHistory/OrderHistory.js"],"names":["React","Component","OrderDetails","withRouter","RatingStarsContainer","OrderHistory","constructor","state","orderHistory","fetch","componentDidMount","then","res","json","setState","render","map","index","receipt_id","name","cuisine","user_id","merchant_id","e","persist","preventDefault"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,YAAP,MAAyB,6BAAzB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,OAAOC,oBAAP,MAAiC,qCAAjC;;AAEA,MAAMC,YAAN,SAA2BJ,SAA3B,CAAqC;AACnCK,EAAAA,WAAW,GAAG;AACZ;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,YAAY,EAAE,EADH;AAEXC,MAAAA,KAAK,EAAE;AAFI,KAAb;AAID;;AAEDC,EAAAA,iBAAiB,GAAG;AAClBD,IAAAA,KAAK,CAAC,eAAD,CAAL,CACGE,IADH,CACSC,GAAD,IAASA,GAAG,CAACC,IAAJ,EADjB,EAEGF,IAFH,CAESC,GAAD,IACJ,KAAKE,QAAL,CAAc;AACZN,MAAAA,YAAY,EAAEI,GADF;AAEZH,MAAAA,KAAK,EAAE;AAFK,KAAd,CAHJ;AAQD,GAlBkC,CAoBnC;AACA;AACA;AACA;AACA;;;AACAM,EAAAA,MAAM,GAAG;AACP,UAAMP,YAAY,GAAG,KAAKD,KAAL,CAAWC,YAAX,CAAwBQ,GAAxB,CAA4B,CAACR,YAAD,EAAeS,KAAf,KAAyB;AACxE,0BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAK,QAAA,GAAG,EAAEA,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGT,YAAY,CAACU,UADhB,EAEGV,YAAY,CAACW,IAFhB,OAEuBX,YAAY,CAACY,OAFpC,CADF,eAKE,oBAAC,YAAD;AACE,QAAA,OAAO,EAAEZ,YAAY,CAACa,OADxB;AAEE,QAAA,UAAU,EAAEb,YAAY,CAACU,UAF3B;AAGE,QAAA,WAAW,EAAEV,YAAY,CAACc,WAH5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QALF,eAUE;AACE,QAAA,OAAO,EAAGC,CAAD,IAAO;AACdA,UAAAA,CAAC,CAACC,OAAF;AACAD,UAAAA,CAAC,CAACE,cAAF;AACD,SAJH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAVF,CADF;AAqBD,KAtBoB,CAArB;AAwBA,wBACE;AAAK,MAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEG,KAAKlB,KAAL,CAAWE,KAAX,GAAmBD,YAAnB,GAAkC,IAFrC,CADF;AAMD;;AAxDkC;;AA2DrC,eAAeL,UAAU,CAACE,YAAD,CAAzB","sourcesContent":["import React, { Component } from \"react\";\nimport OrderDetails from \"./OrderDetails/OrderDetails\";\nimport { withRouter } from \"react-router-dom\";\nimport RatingStarsContainer from \"./OrderDetails/RatingStarsContainer\";\n\nclass OrderHistory extends Component {\n  constructor() {\n    super();\n    this.state = {\n      orderHistory: [],\n      fetch: false,\n    };\n  }\n\n  componentDidMount() {\n    fetch(\"/orderhistory\")\n      .then((res) => res.json())\n      .then((res) =>\n        this.setState({\n          orderHistory: res,\n          fetch: true,\n        })\n      );\n  }\n\n  // componentWillUnmount() {\n  //     this.setState({\n  //         fetch: false\n  //     })\n  // }\n  render() {\n    const orderHistory = this.state.orderHistory.map((orderHistory, index) => {\n      return (\n        <div>\n          <div key={index}>\n            {orderHistory.receipt_id}\n            {orderHistory.name} {orderHistory.cuisine}\n          </div>\n          <OrderDetails\n            user_id={orderHistory.user_id}\n            receipt_id={orderHistory.receipt_id}\n            merchant_id={orderHistory.merchant_id}\n          />\n          <button\n            onClick={(e) => {\n              e.persist();\n              e.preventDefault();\n            }}\n          >\n            Order Again\n          </button>\n        </div>\n      );\n    });\n\n    return (\n      <div className=\"orderHistoryWrapper\">\n        {/* {orderHistory} */}\n        {this.state.fetch ? orderHistory : null}\n      </div>\n    );\n  }\n}\n\nexport default withRouter(OrderHistory);\n"]},"metadata":{},"sourceType":"module"}