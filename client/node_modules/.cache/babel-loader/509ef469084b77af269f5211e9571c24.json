{"ast":null,"code":"var _jsxFileName = \"/Users/eugenelim/Desktop/wdi/SEI-24-Project-3/client/src/Components/User/TimeLine/TimeLine.js\";\nimport React, { Component } from 'react';\nimport EachMerchant from './EachMerchant/EachMerchant';\nimport OrderHistory from '../OrderHistory/OrderHistory';\nimport { Route, Link, Redirect, Switch } from 'react-router-dom';\nimport IndivListing from '../IndivStore/IndivListing';\nimport ListingContainer from '../IndivStore/ListingContainer';\nexport default class TimeLine extends Component {\n  constructor() {\n    super();\n    this.state = {\n      timeLine: []\n    };\n  }\n\n  componentDidMount() {\n    fetch('/timeline').then(res => res.json()).then(res => {\n      console.log(res);\n      this.setState({\n        timeLine: res\n      });\n    });\n  }\n\n  render() {\n    const merchantCard = this.state.timeLine.map((eachCard, index) => {\n      const discount = (eachCard.unit_price - eachCard.price_floor) / eachCard.unit_price * 100;\n      let path = \"/\" + eachCard.merchant_id;\n      return /*#__PURE__*/React.createElement(Link, {\n        to: path,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 28,\n          columnNumber: 20\n        }\n      }, /*#__PURE__*/React.createElement(EachMerchant, {\n        className: \"indMerc\",\n        key: index,\n        duration: eachCard.time_limit_min,\n        time: eachCard.time,\n        merchant_Id: eachCard.merchant_id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 21\n        }\n      }, eachCard.name), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 21\n        }\n      }, \"up to\", discount, \"%\")));\n    });\n    const routeArray = this.state.timeLine.map((eachCard, index) => {\n      let path = \"/\" + eachCard.merchant_id;\n      return /*#__PURE__*/React.createElement(Route, {\n        path: path,\n        render: () => /*#__PURE__*/React.createElement(ListingContainer, {\n          merchant_id: eachCard.merchant_id,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 38,\n            columnNumber: 34\n          }\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 20\n        }\n      });\n    });\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"navbar\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 21\n      }\n    }, \"Image here\"), /*#__PURE__*/React.createElement(Link, {\n      className: \"login break\",\n      to: \"/Timeline\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 21\n      }\n    }, \"Timeline\"), /*#__PURE__*/React.createElement(Link, {\n      className: \"login break\",\n      to: \"/Orderhistory\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 21\n      }\n    }, \"Order history\"), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.props.onLogout,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 21\n      }\n    }, \"Log out\")), /*#__PURE__*/React.createElement(\"main\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Switch, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 21\n      }\n    }, routeArray, /*#__PURE__*/React.createElement(Route, {\n      path: \"/Orderhistory\",\n      render: () => /*#__PURE__*/React.createElement(OrderHistory, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 33\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/\",\n      render: () => /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 34\n        }\n      }, merchantCard),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 25\n      }\n    }))));\n  }\n\n}\nvar condition = true;\n\ntesting = () => {\n  if (condition == true) {// condition == false\n    // setTimout({\n    // Conduct your fetch\n    // setState inside the fetch will re render the entire page\n    // condition == true\n    // }, 50 000) 5 seconds\n  }\n};","map":{"version":3,"sources":["/Users/eugenelim/Desktop/wdi/SEI-24-Project-3/client/src/Components/User/TimeLine/TimeLine.js"],"names":["React","Component","EachMerchant","OrderHistory","Route","Link","Redirect","Switch","IndivListing","ListingContainer","TimeLine","constructor","state","timeLine","componentDidMount","fetch","then","res","json","console","log","setState","render","merchantCard","map","eachCard","index","discount","unit_price","price_floor","path","merchant_id","time_limit_min","time","name","routeArray","props","onLogout","condition","testing"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport EachMerchant from './EachMerchant/EachMerchant'\nimport OrderHistory from '../OrderHistory/OrderHistory'\nimport {Route, Link, Redirect, Switch} from 'react-router-dom'\nimport IndivListing from '../IndivStore/IndivListing'\nimport ListingContainer from '../IndivStore/ListingContainer'\nexport default class TimeLine extends Component {\n    constructor() {\n        super()\n        this.state = {\n            timeLine: []\n        }\n    }\n    componentDidMount() {\n        fetch('/timeline')\n            .then(res => res.json())\n            .then(res => {\n                console.log(res)\n                this.setState({\n                    timeLine: res\n                })\n            })\n    }\n    render() {\n        const merchantCard = this.state.timeLine.map((eachCard, index) => {\n            const discount = (eachCard.unit_price - eachCard.price_floor) / eachCard.unit_price * 100\n            let path = \"/\" + eachCard.merchant_id\n            return <Link to={path} >\n                <EachMerchant  className=\"indMerc\" key={index} duration={eachCard.time_limit_min} time={eachCard.time} merchant_Id={eachCard.merchant_id}>\n                    <div>{eachCard.name}</div>\n                    <div>up to{discount}%</div>\n                </EachMerchant>\n            </Link>\n        })\n        const routeArray = this.state.timeLine.map((eachCard, index) => {\n            let path = \"/\" + eachCard.merchant_id\n            return <Route path={path} render={\n                            ()=> <ListingContainer merchant_id={eachCard.merchant_id} />\n                        }/>\n        })\n        return (\n            <div>\n                <div className=\"navbar\">\n                    <div>Image here</div>\n                    <Link className=\"login break\" to=\"/Timeline\">Timeline</Link>\n                    <Link className=\"login break\" to=\"/Orderhistory\">Order history</Link>\n                    <button onClick={this.props.onLogout}>Log out</button>\n                </div>\n                <main>\n                    <Switch>\n                        {routeArray}\n                        <Route path=\"/Orderhistory\" render = {\n                            ()=><OrderHistory />\n                        }/>\n                        <Route path=\"/\" render= {\n                            ()=> <div>{merchantCard}</div>\n                        }/>\n                    </Switch>\n                </main>\n            </div>\n        )\n    }\n}\n\nvar condition = true\n\ntesting=()=>  {\n    if(condition == true) {\n        // condition == false\n        // setTimout({\n            // Conduct your fetch\n                // setState inside the fetch will re render the entire page\n            // condition == true\n        // }, 50 000) 5 seconds\n    }\n}"]},"metadata":{},"sourceType":"module"}