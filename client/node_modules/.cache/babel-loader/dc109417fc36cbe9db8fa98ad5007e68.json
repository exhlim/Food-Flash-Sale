{"ast":null,"code":"import _classCallCheck from\"/Users/eugenelim/Desktop/wdi/SEI-24-Project-3/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/eugenelim/Desktop/wdi/SEI-24-Project-3/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/eugenelim/Desktop/wdi/SEI-24-Project-3/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/eugenelim/Desktop/wdi/SEI-24-Project-3/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/eugenelim/Desktop/wdi/SEI-24-Project-3/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import IndivOrder from'./IndivOrder';var OrderList=/*#__PURE__*/function(_React$Component){_inherits(OrderList,_React$Component);var _super=_createSuper(OrderList);function OrderList(props){var _this;_classCallCheck(this,OrderList);_this=_super.call(this,props);_this.state={searchResult:[],//result from API\nordersResult:[],merchant_id:1,html:\"\"};_this.format=_this.format.bind(_assertThisInitialized(_this));return _this;}//set state with props from parent: SEARCH\n_createClass(OrderList,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;//mounting\nif(this.props.display){fetch(\"/merchantorders/\"+this.state.merchant_id).then(function(res){return res.json();}).then(function(res){if(res.length<1){_this2.setState({html:'You have no orders yet'});}else{var formattedResult=_this2.format(res);_this2.setState({ordersResult:res,html:formattedResult});}}).catch(function(error){console.log(\"error happened--- at GET MERCHANT ORDER MOUNT\",error.message);});}}//force the page to re-render\n},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){if(prevProps.sort!==this.props.sort){this.sortMe(this.state.ordersResult,this.state.sort);var sortedhtml=this.format(this.state.ordersResult);this.setState({html:sortedhtml});}}//take the res.json and convert into nice HTML\n},{key:\"format\",value:function format(array){return array.map(function(item,index){var order_id=item.order_id;var price=item.price;var quantity=item.quantity;var name=item.item_name;var date=item.date_created;var revenue=item.revenue;return/*#__PURE__*/React.createElement(IndivOrder,{order_id:order_id,price:price,quantity:quantity,name:name,date:date,revenue:revenue,key:index});});}// sorts results based on selected category\n},{key:\"sortMe\",value:function sortMe(array,category){switch(category){case\"name\":array.sort(function(a,b){return b.item_name>a.item_name?1:-1;});break;case\"revenue\":array.sort(function(a,b){return b.revenue>a.revenue?1:-1;});break;default:return array;}}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",null,this.state.html);}}],[{key:\"getDerivedStateFromProps\",value:function getDerivedStateFromProps(nextProps,prevState){//mounting\nreturn{sort:nextProps.sort};}}]);return OrderList;}(React.Component);export default OrderList;","map":{"version":3,"sources":["/Users/eugenelim/Desktop/wdi/SEI-24-Project-3/client/src/Components/Merchant Home/AllOrders/OrderList.js"],"names":["React","IndivOrder","OrderList","props","state","searchResult","ordersResult","merchant_id","html","format","bind","display","fetch","then","res","json","length","setState","formattedResult","catch","error","console","log","message","prevProps","sort","sortMe","sortedhtml","array","map","item","index","order_id","price","quantity","name","item_name","date","date_created","revenue","category","a","b","nextProps","prevState","Component"],"mappings":"u1BAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,C,GAKMC,CAAAA,S,kHACF,mBAAYC,KAAZ,CAAmB,2CACf,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAY,CACRC,YAAY,CAAC,EADL,CACS;AACjBC,YAAY,CAAC,EAFL,CAGRC,WAAW,CAAE,CAHL,CAIRC,IAAI,CAAC,EAJG,CAAZ,CAMA,MAAKC,MAAL,CAAc,MAAKA,MAAL,CAAYC,IAAZ,+BAAd,CARe,aASlB,CAEL;mFAMwB,iBAChB;AACA,GAAG,KAAKP,KAAL,CAAWQ,OAAd,CAAuB,CACvBC,KAAK,CAAC,mBAAmB,KAAKR,KAAL,CAAWG,WAA/B,CAAL,CACCM,IADD,CACM,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAJ,EAAJ,EADT,EAECF,IAFD,CAEM,SAAAC,GAAG,CAAI,CACT,GAAGA,GAAG,CAACE,MAAJ,CAAa,CAAhB,CAAkB,CACd,MAAI,CAACC,QAAL,CAAc,CAACT,IAAI,CAAE,wBAAP,CAAd,EACH,CAFD,IAEO,CACH,GAAIU,CAAAA,eAAe,CAAG,MAAI,CAACT,MAAL,CAAYK,GAAZ,CAAtB,CACA,MAAI,CAACG,QAAL,CAAc,CAACX,YAAY,CAAEQ,GAAf,CAAoBN,IAAI,CAACU,eAAzB,CAAd,EACH,CACJ,CATD,EAUCC,KAVD,CAUO,SAAAC,KAAK,CAAI,CAChBC,OAAO,CAACC,GAAR,CAAY,+CAAZ,CAA6DF,KAAK,CAACG,OAAnE,EACH,CAZG,EAaH,CACA,CAED;8DACoBC,S,CAAW,CAC3B,GAAGA,SAAS,CAACC,IAAV,GAAmB,KAAKtB,KAAL,CAAWsB,IAAjC,CAAsC,CAClC,KAAKC,MAAL,CAAY,KAAKtB,KAAL,CAAWE,YAAvB,CAAqC,KAAKF,KAAL,CAAWqB,IAAhD,EACA,GAAIE,CAAAA,UAAU,CAAG,KAAKlB,MAAL,CAAY,KAAKL,KAAL,CAAWE,YAAvB,CAAjB,CACA,KAAKW,QAAL,CAAc,CAACT,IAAI,CAAEmB,UAAP,CAAd,EACH,CACJ,CAGL;sCACOC,K,CAAO,CACV,MAAOA,CAAAA,KAAK,CAACC,GAAN,CAAU,SAACC,IAAD,CAAMC,KAAN,CAAc,CAC3B,GAAIC,CAAAA,QAAQ,CAAGF,IAAI,CAACE,QAApB,CACA,GAAIC,CAAAA,KAAK,CAAGH,IAAI,CAACG,KAAjB,CACA,GAAIC,CAAAA,QAAQ,CAAEJ,IAAI,CAACI,QAAnB,CACA,GAAIC,CAAAA,IAAI,CAAGL,IAAI,CAACM,SAAhB,CACA,GAAIC,CAAAA,IAAI,CAAGP,IAAI,CAACQ,YAAhB,CACA,GAAIC,CAAAA,OAAO,CAAGT,IAAI,CAACS,OAAnB,CAEA,mBAAO,oBAAC,UAAD,EAAY,QAAQ,CAAEP,QAAtB,CAAgC,KAAK,CAAEC,KAAvC,CAA8C,QAAQ,CAAEC,QAAxD,CAAkE,IAAI,CAAEC,IAAxE,CAA8E,IAAI,CAAEE,IAApF,CAA0F,OAAO,CAAGE,OAApG,CAA8G,GAAG,CAAER,KAAnH,EAAP,CACH,CATM,CAAP,CAUH,CAEE;sCAEIH,K,CAAMY,Q,CAAS,CAClB,OAAOA,QAAP,EACI,IAAK,MAAL,CACAZ,KAAK,CAACH,IAAN,CAAW,SAACgB,CAAD,CAAGC,CAAH,CAAO,CACd,MAAOA,CAAAA,CAAC,CAACN,SAAF,CAAcK,CAAC,CAACL,SAAjB,CAA8B,CAA9B,CAAiC,CAAC,CAAxC,CACH,CAFD,EAGA,MACJ,IAAK,SAAL,CACIR,KAAK,CAACH,IAAN,CAAW,SAACgB,CAAD,CAAGC,CAAH,CAAO,CACd,MAAOA,CAAAA,CAAC,CAACH,OAAF,CAAYE,CAAC,CAACF,OAAf,CAA0B,CAA1B,CAA6B,CAAC,CAApC,CACH,CAFD,EAGA,MAEJ,QACQ,MAAOX,CAAAA,KAAP,CAbR,CAgBH,C,uCAGW,CACJ,mBACI,+BACC,KAAKxB,KAAL,CAAWI,IADZ,CADJ,CAMH,C,4EA7E+BmC,S,CAAUC,S,CAAW,CACjD;AACA,MAAO,CAAEnB,IAAI,CAAEkB,SAAS,CAAClB,IAAlB,CAAP,CACH,C,uBAhBmBzB,KAAK,CAAC6C,S,EA6F9B,cAAe3C,CAAAA,SAAf","sourcesContent":["import React from 'react';\nimport IndivOrder from './IndivOrder'\n\n\n\n\nclass OrderList extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state ={\n            searchResult:[], //result from API\n            ordersResult:[],\n            merchant_id: 1,\n            html:\"\"\n        }\n        this.format = this.format.bind(this);\n    }\n\n//set state with props from parent: SEARCH\n    static getDerivedStateFromProps(nextProps,prevState) {\n        //mounting\n        return { sort: nextProps.sort}\n    }\n\n    componentDidMount() {\n        //mounting\n        if(this.props.display) {\n        fetch(\"/merchantorders/\"+this.state.merchant_id)\n        .then(res => res.json())\n        .then(res => {\n            if(res.length < 1){\n                this.setState({html: 'You have no orders yet'})\n            } else {\n                let formattedResult = this.format(res);\n                this.setState({ordersResult: res, html:formattedResult})\n            }\n        })\n        .catch(error => {\n        console.log(\"error happened--- at GET MERCHANT ORDER MOUNT\", error.message)\n    });\n    }\n    }\n\n    //force the page to re-render\n    componentDidUpdate (prevProps) {\n        if(prevProps.sort !== this.props.sort){\n            this.sortMe(this.state.ordersResult, this.state.sort)\n            let sortedhtml = this.format(this.state.ordersResult);\n            this.setState({html: sortedhtml})\n        }\n    }\n\n\n//take the res.json and convert into nice HTML\nformat(array) {\n    return array.map((item,index)=>{\n        let order_id = item.order_id;\n        let price = item.price;\n        let quantity= item.quantity;\n        let name = item.item_name;\n        let date = item.date_created;\n        let revenue = item.revenue;\n\n        return <IndivOrder order_id={order_id} price={price} quantity={quantity} name={name} date={date} revenue ={revenue}  key={index} />\n    })\n}\n\n   // sorts results based on selected category\n\nsortMe(array,category){\n    switch(category){\n        case \"name\":\n        array.sort((a,b)=>{\n            return(b.item_name > a.item_name) ? 1: -1\n        })\n        break;\n    case \"revenue\":\n        array.sort((a,b)=>{\n            return(b.revenue > a.revenue) ? 1: -1\n        })\n        break;\n\n    default:\n            return array;\n\n    }\n}\n\n\n    render(){\n        return (\n            <div>\n            {this.state.html}\n            </div>\n\n            )\n    }\n}\n\nexport default OrderList;"]},"metadata":{},"sourceType":"module"}