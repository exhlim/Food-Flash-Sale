{"ast":null,"code":"var _jsxFileName = \"/Users/eugenelim/Desktop/wdi/SEI-24-Project-3/client/src/Components/User/OrderHistory/OrderHistory.js\";\nimport React, { Component } from \"react\";\nimport OrderDetails from \"./OrderDetails/OrderDetails\";\nimport { withRouter } from \"react-router-dom\";\nimport RatingStarsContainer from \"./OrderDetails/RatingStarsContainer\";\n\nclass OrderHistory extends Component {\n  constructor() {\n    super();\n    this.state = {\n      orderHistory: [],\n      fetch: false\n    };\n  }\n\n  componentDidMount() {\n    console.log(this.props.user_id);\n    fetch(`/orderhistory/${this.props.user_id}`).then(res => res.json()).then(res => {\n      console.log(res);\n      this.setState({\n        orderHistory: res,\n        fetch: true\n      });\n    });\n  } // componentWillUnmount() {\n  //     this.setState({\n  //         fetch: false\n  //     })\n  // }\n\n\n  render() {\n    const orderHistory = this.state.orderHistory.map((orderHistory, index) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 11\n        }\n      }, orderHistory.receipt_id, orderHistory.name, \" \", orderHistory.cuisine), /*#__PURE__*/React.createElement(OrderDetails, {\n        user_id: orderHistory.user_id,\n        receipt_id: orderHistory.receipt_id,\n        merchant_id: orderHistory.merchant_id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(\"button\", {\n        onClick: e => {\n          e.persist();\n          e.preventDefault();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 11\n        }\n      }, \"Order Again\"));\n    });\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"orderHistoryWrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 7\n      }\n    }, this.state.fetch ? orderHistory : null);\n  }\n\n}\n\nexport default withRouter(OrderHistory);","map":{"version":3,"sources":["/Users/eugenelim/Desktop/wdi/SEI-24-Project-3/client/src/Components/User/OrderHistory/OrderHistory.js"],"names":["React","Component","OrderDetails","withRouter","RatingStarsContainer","OrderHistory","constructor","state","orderHistory","fetch","componentDidMount","console","log","props","user_id","then","res","json","setState","render","map","index","receipt_id","name","cuisine","merchant_id","e","persist","preventDefault"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,YAAP,MAAyB,6BAAzB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,OAAOC,oBAAP,MAAiC,qCAAjC;;AAEA,MAAMC,YAAN,SAA2BJ,SAA3B,CAAqC;AACnCK,EAAAA,WAAW,GAAG;AACZ;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,YAAY,EAAE,EADH;AAEXC,MAAAA,KAAK,EAAE;AAFI,KAAb;AAID;;AAEDC,EAAAA,iBAAiB,GAAG;AAClBC,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKC,KAAL,CAAWC,OAAvB;AACAL,IAAAA,KAAK,CAAE,iBAAgB,KAAKI,KAAL,CAAWC,OAAQ,EAArC,CAAL,CACGC,IADH,CACSC,GAAD,IAASA,GAAG,CAACC,IAAJ,EADjB,EAEGF,IAFH,CAESC,GAAD,IAAS;AACbL,MAAAA,OAAO,CAACC,GAAR,CAAYI,GAAZ;AACA,WAAKE,QAAL,CAAc;AACZV,QAAAA,YAAY,EAAEQ,GADF;AAEZP,QAAAA,KAAK,EAAE;AAFK,OAAd;AAID,KARH;AASD,GApBkC,CAsBnC;AACA;AACA;AACA;AACA;;;AACAU,EAAAA,MAAM,GAAG;AACP,UAAMX,YAAY,GAAG,KAAKD,KAAL,CAAWC,YAAX,CAAwBY,GAAxB,CAA4B,CAACZ,YAAD,EAAea,KAAf,KAAyB;AACxE,0BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAK,QAAA,GAAG,EAAEA,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGb,YAAY,CAACc,UADhB,EAEGd,YAAY,CAACe,IAFhB,OAEuBf,YAAY,CAACgB,OAFpC,CADF,eAKE,oBAAC,YAAD;AACE,QAAA,OAAO,EAAEhB,YAAY,CAACM,OADxB;AAEE,QAAA,UAAU,EAAEN,YAAY,CAACc,UAF3B;AAGE,QAAA,WAAW,EAAEd,YAAY,CAACiB,WAH5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QALF,eAUE;AACE,QAAA,OAAO,EAAGC,CAAD,IAAO;AACdA,UAAAA,CAAC,CAACC,OAAF;AACAD,UAAAA,CAAC,CAACE,cAAF;AACD,SAJH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAVF,CADF;AAqBD,KAtBoB,CAArB;AAwBA,wBACE;AAAK,MAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEG,KAAKrB,KAAL,CAAWE,KAAX,GAAmBD,YAAnB,GAAkC,IAFrC,CADF;AAMD;;AA1DkC;;AA6DrC,eAAeL,UAAU,CAACE,YAAD,CAAzB","sourcesContent":["import React, { Component } from \"react\";\nimport OrderDetails from \"./OrderDetails/OrderDetails\";\nimport { withRouter } from \"react-router-dom\";\nimport RatingStarsContainer from \"./OrderDetails/RatingStarsContainer\";\n\nclass OrderHistory extends Component {\n  constructor() {\n    super();\n    this.state = {\n      orderHistory: [],\n      fetch: false,\n    };\n  }\n\n  componentDidMount() {\n    console.log(this.props.user_id)\n    fetch(`/orderhistory/${this.props.user_id}`)\n      .then((res) => res.json())\n      .then((res) => {\n        console.log(res);\n        this.setState({\n          orderHistory: res,\n          fetch: true,\n        })\n      });\n  }\n\n  // componentWillUnmount() {\n  //     this.setState({\n  //         fetch: false\n  //     })\n  // }\n  render() {\n    const orderHistory = this.state.orderHistory.map((orderHistory, index) => {\n      return (\n        <div>\n          <div key={index}>\n            {orderHistory.receipt_id}\n            {orderHistory.name} {orderHistory.cuisine}\n          </div>\n          <OrderDetails\n            user_id={orderHistory.user_id}\n            receipt_id={orderHistory.receipt_id}\n            merchant_id={orderHistory.merchant_id}\n          />\n          <button\n            onClick={(e) => {\n              e.persist();\n              e.preventDefault();\n            }}\n          >\n            Order Again\n          </button>\n        </div>\n      );\n    });\n\n    return (\n      <div className=\"orderHistoryWrapper\">\n        {/* {orderHistory} */}\n        {this.state.fetch ? orderHistory : null}\n      </div>\n    );\n  }\n}\n\nexport default withRouter(OrderHistory);"]},"metadata":{},"sourceType":"module"}