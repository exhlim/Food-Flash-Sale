{"ast":null,"code":"var _jsxFileName = \"/home/rlyz/wdi/sei-24-project-3/client/src/Components/User/TimeLine/EachMerchant/EachMerchant.js\";\nimport React, { useEffect, useState } from 'react';\nexport default function EachMerchant(props) {\n  // console.log(props.duration);\n  // console.log(props.time);\n  // console.log(+props.duration - Math.floor((new Date(props.time) / 1000 / 60) % 60))\n  const calculateTimeLeft = () => {\n    const uploadTime = new Date(props.time);\n    uploadTime.setMinutes(uploadTime.getMinutes() + 360);\n    const difference = +uploadTime - +new Date();\n    let timeLeft = {};\n\n    if (difference > 0) {\n      timeLeft = {\n        hours: Math.floor(difference / (1000 * 60 * 60) % 24),\n        minutes: Math.floor(difference / 1000 / 60 % 60),\n        seconds: Math.floor(difference / 1000 % 60)\n      };\n    }\n\n    return timeLeft;\n  };\n\n  const [mount, setMount] = useState('True');\n  const [timeLeft, setTimeLeft] = useState(calculateTimeLeft());\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      setTimeLeft(calculateTimeLeft());\n    }, 1000);\n    return () => {\n      clearTimeout(timer);\n    };\n  });\n  const timerComponents = [];\n  Object.keys(timeLeft).forEach(interval => {\n    if (!timeLeft[interval]) {\n      return;\n    }\n\n    timerComponents.push( /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 13\n      }\n    }, timeLeft[interval], \" \", interval, \" \"));\n  });\n\n  if (timeLeft.hours == 0 && timeLeft.minutes == 0 && timeLeft.seconds == 0) {\n    setMount(!mount);\n    return null;\n  } else {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, timerComponents.length ? /*#__PURE__*/React.createElement(\"div\", {\n      key: props.index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 46\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 25\n      }\n    }, props.children), \" \", timerComponents) : null);\n  }\n}","map":{"version":3,"sources":["/home/rlyz/wdi/sei-24-project-3/client/src/Components/User/TimeLine/EachMerchant/EachMerchant.js"],"names":["React","useEffect","useState","EachMerchant","props","calculateTimeLeft","uploadTime","Date","time","setMinutes","getMinutes","difference","timeLeft","hours","Math","floor","minutes","seconds","mount","setMount","setTimeLeft","timer","setTimeout","clearTimeout","timerComponents","Object","keys","forEach","interval","push","length","index","children"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AAEA,eAAe,SAASC,YAAT,CAAsBC,KAAtB,EAA6B;AAExC;AACA;AACA;AAEA,QAAMC,iBAAiB,GAAG,MAAM;AAC5B,UAAMC,UAAU,GAAG,IAAIC,IAAJ,CAASH,KAAK,CAACI,IAAf,CAAnB;AACAF,IAAAA,UAAU,CAACG,UAAX,CAAsBH,UAAU,CAACI,UAAX,KAA0B,GAAhD;AACA,UAAMC,UAAU,GAAG,CAACL,UAAD,GAAc,CAAC,IAAIC,IAAJ,EAAlC;AACA,QAAIK,QAAQ,GAAG,EAAf;;AACA,QAAID,UAAU,GAAG,CAAjB,EAAoB;AAChBC,MAAAA,QAAQ,GAAG;AACPC,QAAAA,KAAK,EAAEC,IAAI,CAACC,KAAL,CAAYJ,UAAU,IAAI,OAAO,EAAP,GAAY,EAAhB,CAAX,GAAkC,EAA7C,CADA;AAEPK,QAAAA,OAAO,EAAEF,IAAI,CAACC,KAAL,CAAYJ,UAAU,GAAG,IAAb,GAAoB,EAArB,GAA2B,EAAtC,CAFF;AAGPM,QAAAA,OAAO,EAAEH,IAAI,CAACC,KAAL,CAAYJ,UAAU,GAAG,IAAd,GAAsB,EAAjC;AAHF,OAAX;AAKH;;AACD,WAAOC,QAAP;AACH,GAbD;;AAeA,QAAM,CAACM,KAAD,EAAQC,QAAR,IAAoBjB,QAAQ,CAAC,MAAD,CAAlC;AAIA,QAAM,CAACU,QAAD,EAAWQ,WAAX,IAA0BlB,QAAQ,CAACG,iBAAiB,EAAlB,CAAxC;AAEAJ,EAAAA,SAAS,CAAC,MAAM;AACZ,UAAMoB,KAAK,GAAGC,UAAU,CAAC,MAAM;AAC3BF,MAAAA,WAAW,CAACf,iBAAiB,EAAlB,CAAX;AACH,KAFuB,EAErB,IAFqB,CAAxB;AAGA,WAAO,MAAM;AACTkB,MAAAA,YAAY,CAACF,KAAD,CAAZ;AACH,KAFD;AAGH,GAPQ,CAAT;AASA,QAAMG,eAAe,GAAG,EAAxB;AAGAC,EAAAA,MAAM,CAACC,IAAP,CAAYd,QAAZ,EAAsBe,OAAtB,CAA+BC,QAAD,IAAc;AACxC,QAAI,CAAChB,QAAQ,CAACgB,QAAD,CAAb,EAAyB;AACrB;AACH;;AAEDJ,IAAAA,eAAe,CAACK,IAAhB,eACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACKjB,QAAQ,CAACgB,QAAD,CADb,OAC0BA,QAD1B,EACoC,GADpC,CADJ;AAKH,GAVD;;AAYA,MAAIhB,QAAQ,CAACC,KAAT,IAAkB,CAAlB,IAAuBD,QAAQ,CAACI,OAAT,IAAoB,CAA3C,IAAgDJ,QAAQ,CAACK,OAAT,IAAoB,CAAxE,EAA2E;AACvEE,IAAAA,QAAQ,CAAC,CAACD,KAAF,CAAR;AACA,WAAO,IAAP;AACH,GAHD,MAGO;AAEH,wBACI,0CAEQM,eAAe,CAACM,MAAhB,gBAAyB;AAAK,MAAA,GAAG,EAAE1B,KAAK,CAAC2B,KAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAK3B,KAAK,CAAC4B,QAAX,CADqB,OACMR,eADN,CAAzB,GACwD,IAHhE,CADJ;AAQH;AACJ","sourcesContent":["import React, { useEffect, useState } from 'react'\n\nexport default function EachMerchant(props) {\n\n    // console.log(props.duration);\n    // console.log(props.time);\n    // console.log(+props.duration - Math.floor((new Date(props.time) / 1000 / 60) % 60))\n\n    const calculateTimeLeft = () => {\n        const uploadTime = new Date(props.time)\n        uploadTime.setMinutes(uploadTime.getMinutes() + 360)\n        const difference = +uploadTime - +new Date();\n        let timeLeft = {};\n        if (difference > 0) {\n            timeLeft = {\n                hours: Math.floor((difference / (1000 * 60 * 60)) % 24),\n                minutes: Math.floor((difference / 1000 / 60) % 60),\n                seconds: Math.floor((difference / 1000) % 60)\n            };\n        }\n        return timeLeft\n    };\n\n    const [mount, setMount] = useState('True')\n\n\n\n    const [timeLeft, setTimeLeft] = useState(calculateTimeLeft());\n\n    useEffect(() => {\n        const timer = setTimeout(() => {\n            setTimeLeft(calculateTimeLeft());\n        }, 1000);\n        return () => {\n            clearTimeout(timer);\n        }\n    });\n\n    const timerComponents = [];\n\n\n    Object.keys(timeLeft).forEach((interval) => {\n        if (!timeLeft[interval]) {\n            return;\n        }\n\n        timerComponents.push(\n            <span>\n                {timeLeft[interval]} {interval}{\" \"}\n            </span>\n        );\n    });\n\n    if (timeLeft.hours == 0 && timeLeft.minutes == 0 && timeLeft.seconds == 0) {\n        setMount(!mount)\n        return null\n    } else {\n\n        return (\n            <>\n                {\n                    timerComponents.length ? <div key={props.index}>\n                        <h1>{props.children}</h1> {timerComponents}</div> : null\n                }\n            </>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}