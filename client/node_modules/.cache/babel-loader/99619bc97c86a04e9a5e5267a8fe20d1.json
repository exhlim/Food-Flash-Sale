{"ast":null,"code":"import _classCallCheck from\"/Users/eugenelim/Desktop/wdi/SEI-24-Project-3/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/eugenelim/Desktop/wdi/SEI-24-Project-3/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/eugenelim/Desktop/wdi/SEI-24-Project-3/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/eugenelim/Desktop/wdi/SEI-24-Project-3/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import Toggle from'./Toggle/Toggle';var ItemList=/*#__PURE__*/function(_Component){_inherits(ItemList,_Component);var _super=_createSuper(ItemList);function ItemList(){var _this;_classCallCheck(this,ItemList);_this=_super.call(this);_this.toggleOnclickHandler=function(boolean,id){fetch('/togglelisting',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({listing_id:id,boolean:boolean})}).then(function(res){return res.text();}).then(function(res){console.log(res);_this.setState({fetch:!_this.state.fetch});});};_this.state={list:[],fetch:false};return _this;}_createClass(ItemList,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;fetch('/all/listing/1').then(function(res){return res.json();}).then(function(res){// console.log(res);\n_this2.setState({list:res});});}},{key:\"render\",value:function render(){var _this3=this;// console.log(this.state.list)\nvar itemList=this.state.list.map(function(item,index){return/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,item.item_name),/*#__PURE__*/React.createElement(\"td\",null,item.unit_price),/*#__PURE__*/React.createElement(\"td\",null,item.quantity),/*#__PURE__*/React.createElement(\"td\",null,item.price_ceiling),/*#__PURE__*/React.createElement(\"td\",null,item.price_floor),/*#__PURE__*/React.createElement(\"td\",null,item.category_id),/*#__PURE__*/React.createElement(\"td\",null,item.description),/*#__PURE__*/React.createElement(\"td\",null,item.time_limit_min),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(Toggle,{onToggle:_this3.toggleOnclickHandler,id:item.listing_id,boolean:item.live})));});return/*#__PURE__*/React.createElement(\"table\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"Item Name\"),/*#__PURE__*/React.createElement(\"th\",null,\"Unit Price\"),/*#__PURE__*/React.createElement(\"th\",null,\"Quantity\"),/*#__PURE__*/React.createElement(\"th\",null,\"Maximum Price\"),/*#__PURE__*/React.createElement(\"th\",null,\"Minimum Price\"),/*#__PURE__*/React.createElement(\"th\",null,\"Category\"),/*#__PURE__*/React.createElement(\"th\",null,\"Description\"),/*#__PURE__*/React.createElement(\"th\",null,\"Duration\"),/*#__PURE__*/React.createElement(\"th\",null,\"Status\")),itemList);}}]);return ItemList;}(Component);export{ItemList as default};","map":{"version":3,"sources":["/Users/eugenelim/Desktop/wdi/SEI-24-Project-3/client/src/Components/Merchant/ItemList/ItemList.js"],"names":["React","Component","Toggle","ItemList","toggleOnclickHandler","boolean","id","fetch","method","headers","body","JSON","stringify","listing_id","then","res","text","console","log","setState","state","list","json","itemList","map","item","index","item_name","unit_price","quantity","price_ceiling","price_floor","category_id","description","time_limit_min","live"],"mappings":"4pBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,MAAP,KAAmB,iBAAnB,C,GAEqBC,CAAAA,Q,oGACjB,mBAAc,0CACV,wBADU,MAOdC,oBAPc,CAOS,SAACC,OAAD,CAAUC,EAAV,CAAiB,CACpCC,KAAK,CAAC,gBAAD,CAAmB,CACpBC,MAAM,CAAE,MADY,CAEpBC,OAAO,CAAE,CACL,eAAgB,kBADX,CAFW,CAKpBC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CAAEC,UAAU,CAAEP,EAAd,CAAkBD,OAAO,CAAEA,OAA3B,CAAf,CALc,CAAnB,CAAL,CAOKS,IAPL,CAOU,SAACC,GAAD,QAASA,CAAAA,GAAG,CAACC,IAAJ,EAAT,EAPV,EAQKF,IARL,CAQU,SAACC,GAAD,CAAS,CACXE,OAAO,CAACC,GAAR,CAAYH,GAAZ,EACA,MAAKI,QAAL,CAAc,CACVZ,KAAK,CAAE,CAAC,MAAKa,KAAL,CAAWb,KADT,CAAd,EAGH,CAbL,EAcH,CAtBa,CAEV,MAAKa,KAAL,CAAa,CACTC,IAAI,CAAE,EADG,CAETd,KAAK,CAAE,KAFE,CAAb,CAFU,aAMb,C,kFAkBmB,iBAChBA,KAAK,CAAC,gBAAD,CAAL,CACKO,IADL,CACU,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACO,IAAJ,EAAJ,EADb,EAEKR,IAFL,CAEU,SAAAC,GAAG,CAAI,CACT;AACA,MAAI,CAACI,QAAL,CAAc,CACVE,IAAI,CAAEN,GADI,CAAd,EAGH,CAPL,EAQH,C,uCAEQ,iBACL;AACA,GAAIQ,CAAAA,QAAQ,CAAG,KAAKH,KAAL,CAAWC,IAAX,CAAgBG,GAAhB,CAAoB,SAACC,IAAD,CAAOC,KAAP,CAAiB,CAChD,mBAAO,2CACH,8BAAKD,IAAI,CAACE,SAAV,CADG,cAEH,8BAAKF,IAAI,CAACG,UAAV,CAFG,cAGH,8BAAKH,IAAI,CAACI,QAAV,CAHG,cAIH,8BAAKJ,IAAI,CAACK,aAAV,CAJG,cAKH,8BAAKL,IAAI,CAACM,WAAV,CALG,cAMH,8BAAKN,IAAI,CAACO,WAAV,CANG,cAOH,8BAAKP,IAAI,CAACQ,WAAV,CAPG,cAQH,8BAAKR,IAAI,CAACS,cAAV,CARG,cASH,2CAAI,oBAAC,MAAD,EAAQ,QAAQ,CAAE,MAAI,CAAC9B,oBAAvB,CAA6C,EAAE,CAAEqB,IAAI,CAACZ,UAAtD,CAAkE,OAAO,CAAEY,IAAI,CAACU,IAAhF,EAAJ,CATG,CAAP,CAWH,CAZc,CAAf,CAcA,mBACI,8CACI,2CACI,0CADJ,cAEI,2CAFJ,cAGI,yCAHJ,cAII,8CAJJ,cAKI,8CALJ,cAMI,yCANJ,cAOI,4CAPJ,cAQI,yCARJ,cASI,uCATJ,CADJ,CAYKZ,QAZL,CADJ,CAkBH,C,sBAtEiCtB,S,SAAjBE,Q","sourcesContent":["import React, { Component } from 'react'\nimport Toggle from './Toggle/Toggle'\n\nexport default class ItemList extends Component {\n    constructor() {\n        super()\n        this.state = {\n            list: [],\n            fetch: false\n        }\n    }\n    toggleOnclickHandler = (boolean, id) => {\n        fetch('/togglelisting', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({ listing_id: id, boolean: boolean })\n        })\n            .then((res) => res.text())\n            .then((res) => {\n                console.log(res)\n                this.setState({\n                    fetch: !this.state.fetch\n                })\n            })\n    }\n\n    componentDidMount() {\n        fetch('/all/listing/1')\n            .then(res => res.json())\n            .then(res => {\n                // console.log(res);\n                this.setState({\n                    list: res\n                })\n            })\n    }\n\n    render() {\n        // console.log(this.state.list)\n        let itemList = this.state.list.map((item, index) => {\n            return <tr>\n                <td>{item.item_name}</td>\n                <td>{item.unit_price}</td>\n                <td>{item.quantity}</td>\n                <td>{item.price_ceiling}</td>\n                <td>{item.price_floor}</td>\n                <td>{item.category_id}</td>\n                <td>{item.description}</td>\n                <td>{item.time_limit_min}</td>\n                <td><Toggle onToggle={this.toggleOnclickHandler} id={item.listing_id} boolean={item.live}></Toggle></td>\n            </tr>\n        })\n\n        return (\n            <table>\n                <tr>\n                    <th>Item Name</th>\n                    <th>Unit Price</th>\n                    <th>Quantity</th>\n                    <th>Maximum Price</th>\n                    <th>Minimum Price</th>\n                    <th>Category</th>\n                    <th>Description</th>\n                    <th>Duration</th>\n                    <th>Status</th>\n                </tr>\n                {itemList}\n            </table>\n\n\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}