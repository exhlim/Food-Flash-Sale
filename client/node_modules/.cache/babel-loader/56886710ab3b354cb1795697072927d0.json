{"ast":null,"code":"var _jsxFileName = \"/Users/eugenelim/Desktop/wdi/SEI-24-Project-3/client/src/Components/User/OrderHistory/OrderDetails/OrderDetails.js\";\nimport React, { Component } from \"react\";\nimport RatingStars from \"./RatingStars\";\nimport RatingStarsContainer from \"./RatingStarsContainer\";\nexport default class OrderDetails extends Component {\n  constructor(props) {\n    super();\n    this.state = {\n      details: [],\n      fetch: false,\n      receipt_id: props.receipt_id\n    };\n  }\n\n  componentDidMount() {\n    fetch(\"/all/listing\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        receipt_id: this.state.receipt_id\n      })\n    }).then(res => res.json()).then(res => {\n      // console.log(res)\n      this.setState({\n        details: res,\n        fetch: true\n      });\n    });\n  }\n\n  render() {\n    const price = this.state.details.map(order => {\n      let total = parseInt(order.price) * parseInt(order.quantity); // console.log(total)\n\n      total += parseInt(total);\n      return total;\n    });\n    const listing_id = this.state.details.map(item => {\n      return item.listing_id;\n    });\n    const total = price.reduce(function (acc, val) {\n      return acc + val;\n    }, 0);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(RatingStarsContainer, {\n      listing_id: listing_id[0],\n      merchant_id: this.props.merchant_id,\n      user_id: this.props.user_id,\n      receipt_id: this.props.receipt_id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }\n    }, total));\n  }\n\n}","map":{"version":3,"sources":["/Users/eugenelim/Desktop/wdi/SEI-24-Project-3/client/src/Components/User/OrderHistory/OrderDetails/OrderDetails.js"],"names":["React","Component","RatingStars","RatingStarsContainer","OrderDetails","constructor","props","state","details","fetch","receipt_id","componentDidMount","method","headers","body","JSON","stringify","then","res","json","setState","render","price","map","order","total","parseInt","quantity","listing_id","item","reduce","acc","val","merchant_id","user_id"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAOC,oBAAP,MAAiC,wBAAjC;AAEA,eAAe,MAAMC,YAAN,SAA2BH,SAA3B,CAAqC;AAClDI,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,OAAO,EAAE,EADE;AAEXC,MAAAA,KAAK,EAAE,KAFI;AAGXC,MAAAA,UAAU,EAAEJ,KAAK,CAACI;AAHP,KAAb;AAKD;;AAEDC,EAAAA,iBAAiB,GAAG;AAClBF,IAAAA,KAAK,CAAC,cAAD,EAAiB;AACpBG,MAAAA,MAAM,EAAE,MADY;AAEpBC,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT,OAFW;AAKpBC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAAEN,QAAAA,UAAU,EAAE,KAAKH,KAAL,CAAWG;AAAzB,OAAf;AALc,KAAjB,CAAL,CAOGO,IAPH,CAOSC,GAAD,IAASA,GAAG,CAACC,IAAJ,EAPjB,EAQGF,IARH,CAQSC,GAAD,IAAS;AACb;AACA,WAAKE,QAAL,CAAc;AACZZ,QAAAA,OAAO,EAAEU,GADG;AAEZT,QAAAA,KAAK,EAAE;AAFK,OAAd;AAID,KAdH;AAeD;;AAEDY,EAAAA,MAAM,GAAG;AACP,UAAMC,KAAK,GAAG,KAAKf,KAAL,CAAWC,OAAX,CAAmBe,GAAnB,CAAwBC,KAAD,IAAW;AAC9C,UAAIC,KAAK,GAAGC,QAAQ,CAACF,KAAK,CAACF,KAAP,CAAR,GAAwBI,QAAQ,CAACF,KAAK,CAACG,QAAP,CAA5C,CAD8C,CAE9C;;AACAF,MAAAA,KAAK,IAAIC,QAAQ,CAACD,KAAD,CAAjB;AACA,aAAOA,KAAP;AACD,KALa,CAAd;AAMA,UAAMG,UAAU,GAAG,KAAKrB,KAAL,CAAWC,OAAX,CAAmBe,GAAnB,CAAwBM,IAAD,IAAU;AAClD,aAAOA,IAAI,CAACD,UAAZ;AACD,KAFkB,CAAnB;AAGA,UAAMH,KAAK,GAAGH,KAAK,CAACQ,MAAN,CAAa,UAAUC,GAAV,EAAeC,GAAf,EAAoB;AAC7C,aAAOD,GAAG,GAAGC,GAAb;AACD,KAFa,EAEX,CAFW,CAAd;AAGA,wBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,oBAAD;AACE,MAAA,UAAU,EAAEJ,UAAU,CAAC,CAAD,CADxB;AAEE,MAAA,WAAW,EAAE,KAAKtB,KAAL,CAAW2B,WAF1B;AAGE,MAAA,OAAO,EAAE,KAAK3B,KAAL,CAAW4B,OAHtB;AAIE,MAAA,UAAU,EAAE,KAAK5B,KAAL,CAAWI,UAJzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAOE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAMe,KAAN,CAPF,CADF;AAWD;;AApDiD","sourcesContent":["import React, { Component } from \"react\";\r\nimport RatingStars from \"./RatingStars\";\r\nimport RatingStarsContainer from \"./RatingStarsContainer\";\r\n\r\nexport default class OrderDetails extends Component {\r\n  constructor(props) {\r\n    super();\r\n    this.state = {\r\n      details: [],\r\n      fetch: false,\r\n      receipt_id: props.receipt_id,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    fetch(\"/all/listing\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({ receipt_id: this.state.receipt_id }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((res) => {\r\n        // console.log(res)\r\n        this.setState({\r\n          details: res,\r\n          fetch: true,\r\n        });\r\n      });\r\n  }\r\n\r\n  render() {\r\n    const price = this.state.details.map((order) => {\r\n      let total = parseInt(order.price) * parseInt(order.quantity);\r\n      // console.log(total)\r\n      total += parseInt(total);\r\n      return total;\r\n    });\r\n    const listing_id = this.state.details.map((item) => {\r\n      return item.listing_id;\r\n    });\r\n    const total = price.reduce(function (acc, val) {\r\n      return acc + val;\r\n    }, 0);\r\n    return (\r\n      <div>\r\n        <RatingStarsContainer\r\n          listing_id={listing_id[0]}\r\n          merchant_id={this.props.merchant_id}\r\n          user_id={this.props.user_id}\r\n          receipt_id={this.props.receipt_id}\r\n        />\r\n        <div>{total}</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}