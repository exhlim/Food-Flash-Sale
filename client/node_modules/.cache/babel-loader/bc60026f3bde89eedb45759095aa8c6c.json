{"ast":null,"code":"var _jsxFileName = \"/Users/aurelialim/wdi/SEI-24-Project-3/client/src/Components/User/TimeLine/TimeLine.js\";\nimport React, { Component } from \"react\";\nimport EachMerchant from \"./EachMerchant/EachMerchant\";\nimport OrderHistory from \"../OrderHistory/OrderHistory\";\nimport { Route, Link, Redirect, Switch } from \"react-router-dom\";\nimport IndivListing from \"../IndivStore/IndivListing\";\nimport ListingContainer from \"../IndivStore/ListingContainer\";\nvar fetching = true;\nexport default class TimeLine extends Component {\n  constructor(props) {\n    super();\n\n    this.testing = prop => {\n      if (fetching === true) {\n        fetching = false;\n        setTimeout(() => {\n          console.log(`fetching new list soon`);\n          fetch(\"/timeline\").then(res => res.json()).then(res => {\n            console.log(res, `fetched`);\n            fetching = true;\n            this.setState({\n              timeLine: res\n            });\n          });\n        }, 5000);\n        setTimeout(() => {\n          console.log(`fetching deleted list soon`);\n          fetch(\"/deletedlisting\").then(res => res.json()).then(res => {\n            if (res && res.length > 0) {\n              res.sort(function (a, b) {\n                const uploadTimeA = new Date(a.time);\n                const uploadTimeB = new Date(b.time);\n                return uploadTimeB - uploadTimeA;\n              });\n              this.setState({\n                deletedArray: res\n              });\n            }\n          });\n        }, 5000);\n        setTimeout(() => {\n          let defunctArray = this.state.timeLine.map((item, index) => {\n            const uploadTime = new Date(item.time);\n            uploadTime.setMinutes(uploadTime.getMinutes() + item.time_limit_min);\n            let difference = +uploadTime - +new Date();\n\n            if (difference < 0) {\n              return item;\n            }\n          });\n          let newArray = defunctArray.filter(item => {\n            return item;\n          });\n          console.log(`deleting soon`);\n          fetch(\"/tidyuplisting\", {\n            method: \"POST\",\n            headers: {\n              \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n              toBeDeleted: newArray\n            })\n          }).then(res => res.text()).then(res => {\n            console.log(res);\n          });\n        }, 10000);\n      }\n    };\n\n    this.state = {\n      timeLine: [],\n      deletedArray: []\n    };\n  }\n\n  componentDidMount() {\n    fetch(\"/timeline\").then(res => res.json()).then(res => {\n      // console.log(res);\n      this.setState({\n        timeLine: res\n      });\n    });\n    fetch(\"/deletedlisting\").then(res => res.json()).then(res => {\n      console.log(res);\n\n      if (res && res.length > 0) {\n        res.sort(function (a, b) {\n          const uploadTimeA = new Date(a.time);\n          const uploadTimeB = new Date(b.time);\n          return uploadTimeB - uploadTimeA;\n        });\n        this.setState({\n          deletedArray: res\n        });\n      }\n    });\n  }\n\n  render() {\n    let newArray = this.state.timeLine.map((item, index) => {\n      const uploadTime = new Date(item.time);\n      uploadTime.setMinutes(uploadTime.getMinutes() + item.time_limit_min);\n      let difference = +uploadTime - +new Date();\n\n      if (difference > 0) {\n        return item;\n      }\n    });\n    let newerArray = newArray.filter(item => {\n      return item;\n    });\n    newerArray.sort(function (a, b) {\n      const uploadTimeA = new Date(a.time);\n      uploadTimeA.setMinutes(uploadTimeA.getMinutes() + a.time_limit_min);\n      const uploadTimeB = new Date(b.time);\n      uploadTimeB.setMinutes(uploadTimeB.getMinutes() + b.time_limit_min);\n      return uploadTimeA - uploadTimeB;\n    }); // console.log(newerArray, `before splice`)\n\n    if (newerArray.length > 20) {\n      newerArray.splice(19, newerArray.length - 20);\n    } // console.log(newerArray, `After splice`)\n\n\n    let merchantCard = newerArray.map((eachCard, index) => {\n      const discount = (eachCard.unit_price - eachCard.price_floor) / eachCard.unit_price * 100;\n      let path = \"/\" + eachCard.merchant_id;\n      return /*#__PURE__*/React.createElement(Link, {\n        class: \"col-lg-4 col-md-6 mb-4\",\n        to: path,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(EachMerchant, {\n        className: \"card h-100\",\n        key: index,\n        duration: eachCard.time_limit_min,\n        time: eachCard.time,\n        merchant_Id: eachCard.merchant_id,\n        what: this.testing,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        class: \"card-img-top\",\n        src: \"https://picsum.photos/700/400\",\n        alt: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(\"h4\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 13\n        }\n      }, eachCard.name, \" \", discount, \"%\"), /*#__PURE__*/React.createElement(\"p\", {\n        class: \"card-text\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 13\n        }\n      }, \"Lorem ipsum dolor sit amet\")));\n    });\n    let deletedMerchantCard = this.state.deletedArray.map((eachCard, index) => {\n      const discount = (eachCard.unit_price - eachCard.price_floor) / eachCard.unit_price * 100;\n      let path = \"/\" + eachCard.merchant_id;\n      return /*#__PURE__*/React.createElement(Link, {\n        class: \"col-lg-4 col-md-6 mb-4\",\n        to: path,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card h-100\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        class: \"card-img-top\",\n        src: \"https://picsum.photos/700/400\",\n        alt: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card-body\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"h4\", {\n        class: \"card-title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 15\n        }\n      }, eachCard.Merchant), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 15\n        }\n      }, eachCard.name), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 15\n        }\n      }, \"up to\", discount, \"%\"))));\n    });\n    const routeArray = newerArray.map((eachCard, index) => {\n      let path = \"/\" + eachCard.merchant_id;\n      return /*#__PURE__*/React.createElement(Route, {\n        path: path,\n        render: () => /*#__PURE__*/React.createElement(ListingContainer, {\n          listing_id: eachCard.listing_id,\n          merchant_id: eachCard.merchant_id,\n          stripper: this.props.stripper,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 13\n          }\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 9\n        }\n      });\n    });\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"nav\", {\n      class: \"navbar navbar-expand-lg navbar-dark bg-dark fixed-top\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      class: \"navbar-brand\",\n      href: \"#\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 13\n      }\n    }, \"Start Bootstrap\"), /*#__PURE__*/React.createElement(\"button\", {\n      class: \"navbar-toggler\",\n      type: \"button\",\n      \"data-toggle\": \"collapse\",\n      \"data-target\": \"#navbarResponsive\",\n      \"aria-controls\": \"navbarResponsive\",\n      \"aria-expanded\": \"false\",\n      \"aria-label\": \"Toggle navigation\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      class: \"navbar-toggler-icon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"collapse navbar-collapse\",\n      id: \"navbarResponsive\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      class: \"navbar-nav ml-auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      class: \"nav-item active\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/Timeline\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 19\n      }\n    }, \"Timeline\", /*#__PURE__*/React.createElement(\"span\", {\n      class: \"sr-only\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 29\n      }\n    }, \"(current)\"))), /*#__PURE__*/React.createElement(\"li\", {\n      class: \"nav-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/Orderhistory\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 19\n      }\n    }, \"Order history\")), /*#__PURE__*/React.createElement(\"li\", {\n      class: \"nav-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      class: \"nav-link\",\n      href: \"#\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 19\n      }\n    }, \"Services\")), /*#__PURE__*/React.createElement(\"li\", {\n      class: \"nav-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      class: \"nav-link\",\n      href: \"#\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 19\n      }\n    }, \"Contact\"))), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.props.onLogout,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 15\n      }\n    }, \"Log out\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"carouselExampleIndicators\",\n      class: \"carousel slide my-4\",\n      \"data-ride\": \"carousel\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"ol\", {\n      class: \"carousel-indicators\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      \"data-target\": \"#carouselExampleIndicators\",\n      \"data-slide-to\": \"0\",\n      class: \"active\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"li\", {\n      \"data-target\": \"#carouselExampleIndicators\",\n      \"data-slide-to\": \"1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"li\", {\n      \"data-target\": \"#carouselExampleIndicators\",\n      \"data-slide-to\": \"2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"carousel-inner\",\n      role: \"listbox\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"carousel-item active\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      class: \"d-block img-fluid\",\n      src: \"https://picsum.photos/1110/350\",\n      alt: \"First slide\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"carousel-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      class: \"d-block img-fluid\",\n      src: \"https://picsum.photos/1110/350\",\n      alt: \"Second slide\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"carousel-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      class: \"d-block img-fluid\",\n      src: \"https://picsum.photos/1110/350\",\n      alt: \"Third slide\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 17\n      }\n    })))), /*#__PURE__*/React.createElement(\"main\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Switch, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 13\n      }\n    }, routeArray, /*#__PURE__*/React.createElement(Route, {\n      path: \"/Orderhistory\",\n      render: () => /*#__PURE__*/React.createElement(OrderHistory, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 57\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/\",\n      render: () => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h1\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 21\n        }\n      }, \"Ongoing Deals\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 21\n        }\n      }, merchantCard), /*#__PURE__*/React.createElement(\"h1\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 21\n        }\n      }, \"Expired Deals\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 21\n        }\n      }, deletedMerchantCard)),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 15\n      }\n    })))));\n  }\n\n}","map":{"version":3,"sources":["/Users/aurelialim/wdi/SEI-24-Project-3/client/src/Components/User/TimeLine/TimeLine.js"],"names":["React","Component","EachMerchant","OrderHistory","Route","Link","Redirect","Switch","IndivListing","ListingContainer","fetching","TimeLine","constructor","props","testing","prop","setTimeout","console","log","fetch","then","res","json","setState","timeLine","length","sort","a","b","uploadTimeA","Date","time","uploadTimeB","deletedArray","defunctArray","state","map","item","index","uploadTime","setMinutes","getMinutes","time_limit_min","difference","newArray","filter","method","headers","body","JSON","stringify","toBeDeleted","text","componentDidMount","render","newerArray","splice","merchantCard","eachCard","discount","unit_price","price_floor","path","merchant_id","name","deletedMerchantCard","Merchant","routeArray","listing_id","stripper","onLogout"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport EachMerchant from \"./EachMerchant/EachMerchant\";\nimport OrderHistory from \"../OrderHistory/OrderHistory\";\nimport { Route, Link, Redirect, Switch } from \"react-router-dom\";\nimport IndivListing from \"../IndivStore/IndivListing\";\nimport ListingContainer from \"../IndivStore/ListingContainer\";\nvar fetching = true;\nexport default class TimeLine extends Component {\n  constructor(props) {\n    super();\n    this.state = {\n      timeLine: [],\n      deletedArray: [],\n    };\n  }\n  componentDidMount() {\n    fetch(\"/timeline\")\n      .then((res) => res.json())\n      .then((res) => {\n        // console.log(res);\n        this.setState({\n          timeLine: res,\n        });\n      });\n    fetch(\"/deletedlisting\")\n      .then((res) => res.json())\n      .then((res) => {\n        console.log(res);\n        if (res && res.length > 0) {\n          res.sort(function (a, b) {\n            const uploadTimeA = new Date(a.time);\n            const uploadTimeB = new Date(b.time);\n            return uploadTimeB - uploadTimeA;\n          });\n          this.setState({\n            deletedArray: res,\n          });\n        }\n      });\n  }\n  testing = (prop) => {\n    if (fetching === true) {\n      fetching = false;\n      setTimeout(() => {\n        console.log(`fetching new list soon`);\n        fetch(\"/timeline\")\n          .then((res) => res.json())\n          .then((res) => {\n            console.log(res, `fetched`);\n            fetching = true;\n            this.setState({\n              timeLine: res,\n            });\n          });\n      }, 5000);\n      setTimeout(() => {\n        console.log(`fetching deleted list soon`);\n        fetch(\"/deletedlisting\")\n          .then((res) => res.json())\n          .then((res) => {\n            if (res && res.length > 0) {\n              res.sort(function (a, b) {\n                const uploadTimeA = new Date(a.time);\n                const uploadTimeB = new Date(b.time);\n                return uploadTimeB - uploadTimeA;\n              });\n              this.setState({\n                deletedArray: res,\n              });\n            }\n          });\n      }, 5000);\n      setTimeout(() => {\n        let defunctArray = this.state.timeLine.map((item, index) => {\n          const uploadTime = new Date(item.time);\n          uploadTime.setMinutes(uploadTime.getMinutes() + item.time_limit_min);\n          let difference = +uploadTime - +new Date();\n          if (difference < 0) {\n            return item;\n          }\n        });\n        let newArray = defunctArray.filter((item) => {\n          return item;\n        });\n        console.log(`deleting soon`);\n        fetch(\"/tidyuplisting\", {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify({ toBeDeleted: newArray }),\n        })\n          .then((res) => res.text())\n          .then((res) => {\n            console.log(res);\n          });\n      }, 10000);\n    }\n  };\n  render() {\n    let newArray = this.state.timeLine.map((item, index) => {\n      const uploadTime = new Date(item.time);\n      uploadTime.setMinutes(uploadTime.getMinutes() + item.time_limit_min);\n      let difference = +uploadTime - +new Date();\n      if (difference > 0) {\n        return item;\n      }\n    });\n    let newerArray = newArray.filter((item) => {\n      return item;\n    });\n    newerArray.sort(function (a, b) {\n      const uploadTimeA = new Date(a.time);\n      uploadTimeA.setMinutes(uploadTimeA.getMinutes() + a.time_limit_min);\n      const uploadTimeB = new Date(b.time);\n      uploadTimeB.setMinutes(uploadTimeB.getMinutes() + b.time_limit_min);\n      return uploadTimeA - uploadTimeB;\n    });\n    // console.log(newerArray, `before splice`)\n    if (newerArray.length > 20) {\n      newerArray.splice(19, newerArray.length - 20);\n    }\n    // console.log(newerArray, `After splice`)\n    let merchantCard = newerArray.map((eachCard, index) => {\n      const discount =\n        ((eachCard.unit_price - eachCard.price_floor) / eachCard.unit_price) *\n        100;\n      let path = \"/\" + eachCard.merchant_id;\n      return (\n        <Link class=\"col-lg-4 col-md-6 mb-4\" to={path}>\n          <EachMerchant\n            className=\"card h-100\"\n            key={index}\n            duration={eachCard.time_limit_min}\n            time={eachCard.time}\n            merchant_Id={eachCard.merchant_id}\n            what={this.testing}\n          >\n            <img\n              class=\"card-img-top\"\n              src=\"https://picsum.photos/700/400\"\n              alt=\"\"\n            />\n            <h4>\n              {eachCard.name} {discount}%\n            </h4>\n            <p class=\"card-text\">Lorem ipsum dolor sit amet</p>\n          </EachMerchant>\n        </Link>\n      );\n    });\n    let deletedMerchantCard = this.state.deletedArray.map((eachCard, index) => {\n      const discount =\n        ((eachCard.unit_price - eachCard.price_floor) / eachCard.unit_price) *\n        100;\n      let path = \"/\" + eachCard.merchant_id;\n      return (\n        <Link class=\"col-lg-4 col-md-6 mb-4\" to={path}>\n          <div className=\"card h-100\">\n            <img\n              class=\"card-img-top\"\n              src=\"https://picsum.photos/700/400\"\n              alt=\"\"\n            />\n            <div className=\"card-body\">\n              <h4 class=\"card-title\">{eachCard.Merchant}</h4>\n              <div>{eachCard.name}</div>\n              <div>up to{discount}%</div>\n            </div>\n          </div>\n        </Link>\n      );\n    });\n    const routeArray = newerArray.map((eachCard, index) => {\n      let path = \"/\" + eachCard.merchant_id;\n      return (\n        <Route\n          path={path}\n          render={() => (\n            <ListingContainer\n              listing_id={eachCard.listing_id}\n              merchant_id={eachCard.merchant_id}\n              stripper={this.props.stripper}\n            />\n          )}\n        />\n      );\n    });\n    return (\n      <>\n        <nav class=\"navbar navbar-expand-lg navbar-dark bg-dark fixed-top\">\n          <div class=\"container\">\n            <a class=\"navbar-brand\" href=\"#\">\n              Start Bootstrap\n            </a>\n            <button\n              class=\"navbar-toggler\"\n              type=\"button\"\n              data-toggle=\"collapse\"\n              data-target=\"#navbarResponsive\"\n              aria-controls=\"navbarResponsive\"\n              aria-expanded=\"false\"\n              aria-label=\"Toggle navigation\"\n            >\n              <span class=\"navbar-toggler-icon\"></span>\n            </button>\n            <div class=\"collapse navbar-collapse\" id=\"navbarResponsive\">\n              <ul class=\"navbar-nav ml-auto\">\n                <li class=\"nav-item active\">\n                  <Link to=\"/Timeline\">\n                    Timeline<span class=\"sr-only\">(current)</span>\n                  </Link>\n                </li>\n                <li class=\"nav-item\">\n                  <Link to=\"/Orderhistory\">Order history</Link>\n                </li>\n                <li class=\"nav-item\">\n                  <a class=\"nav-link\" href=\"#\">\n                    Services\n                  </a>\n                </li>\n                <li class=\"nav-item\">\n                  <a class=\"nav-link\" href=\"#\">\n                    Contact\n                  </a>\n                </li>\n              </ul>\n              <button onClick={this.props.onLogout}>Log out</button>\n            </div>\n          </div>\n        </nav>\n        <div className=\"container\">\n          <div\n            id=\"carouselExampleIndicators\"\n            class=\"carousel slide my-4\"\n            data-ride=\"carousel\"\n          >\n            <ol class=\"carousel-indicators\">\n              <li\n                data-target=\"#carouselExampleIndicators\"\n                data-slide-to=\"0\"\n                class=\"active\"\n              ></li>\n              <li\n                data-target=\"#carouselExampleIndicators\"\n                data-slide-to=\"1\"\n              ></li>\n              <li\n                data-target=\"#carouselExampleIndicators\"\n                data-slide-to=\"2\"\n              ></li>\n            </ol>\n            <div class=\"carousel-inner\" role=\"listbox\">\n              <div class=\"carousel-item active\">\n                <img\n                  class=\"d-block img-fluid\"\n                  src=\"https://picsum.photos/1110/350\"\n                  alt=\"First slide\"\n                />\n              </div>\n              <div class=\"carousel-item\">\n                <img\n                  class=\"d-block img-fluid\"\n                  src=\"https://picsum.photos/1110/350\"\n                  alt=\"Second slide\"\n                />\n              </div>\n              <div class=\"carousel-item\">\n                <img\n                  class=\"d-block img-fluid\"\n                  src=\"https://picsum.photos/1110/350\"\n                  alt=\"Third slide\"\n                />\n              </div>\n            </div>\n          </div>\n          <main>\n            <Switch>\n              {routeArray}\n              <Route path=\"/Orderhistory\" render={() => <OrderHistory />} />\n              <Route\n                path=\"/\"\n                render={() => (\n                  <>\n                    <h1>Ongoing Deals</h1>\n                    <div className=\"row\">{merchantCard}</div>\n                    <h1>Expired Deals</h1>\n                    <div className=\"row\">{deletedMerchantCard}</div>\n                  </>\n                )}\n              />\n            </Switch>\n          </main>\n        </div>\n      </>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}