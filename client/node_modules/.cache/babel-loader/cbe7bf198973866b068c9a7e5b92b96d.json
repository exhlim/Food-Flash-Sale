{"ast":null,"code":"var _jsxFileName = \"/home/rlyz/wdi/sei-24-project-3/client/src/Components/User/TimeLine/EachMerchant/EachMerchant.js\";\nimport React, { useEffect, useState } from 'react';\nimport moment from 'moment';\nexport default function EachMerchant(props) {\n  console.log(typeof props.time);\n  console.log(Math.floor(new Date(props.time) / 1000 / 60 % 60)); // console.log(props.duration);\n  // console.log(props.time);\n  // console.log(+props.duration - Math.floor((new Date(props.time) / 1000 / 60) % 60))\n\n  const calculateTimeLeft = () => {\n    let duration = props.duration;\n    const difference = +duration - props.time;\n    let timeLeft = {};\n\n    if (difference > 0) {\n      timeLeft = {\n        hours: Math.floor(difference / (1000 * 60 * 60) % 24),\n        minutes: Math.floor(difference / 1000 / 60 % 60),\n        seconds: Math.floor(difference / 1000 % 60)\n      };\n    }\n\n    return timeLeft;\n  }; // componentDidMount() {\n  //     fetch('/timeline')\n  //         .then(res => res.json())\n  //         .then(res => {\n  //             console.log(res)\n  //         })\n  // }\n\n\n  const [timeLeft, setTimeLeft] = useState(calculateTimeLeft());\n  useEffect(() => {\n    setTimeout(() => {\n      setTimeLeft(calculateTimeLeft());\n    }, 1000);\n  });\n  const timerComponents = [];\n  Object.keys(timeLeft).forEach(interval => {\n    if (!timeLeft[interval]) {\n      return;\n    }\n\n    timerComponents.push( /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 13\n      }\n    }, timeLeft[interval], \" \", interval, \" \"));\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }\n  }, \"With React Hooks!\"), /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }, props.children), timerComponents.length ? timerComponents : /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 57\n    }\n  }, \"Time's up!\"));\n}","map":{"version":3,"sources":["/home/rlyz/wdi/sei-24-project-3/client/src/Components/User/TimeLine/EachMerchant/EachMerchant.js"],"names":["React","useEffect","useState","moment","EachMerchant","props","console","log","time","Math","floor","Date","calculateTimeLeft","duration","difference","timeLeft","hours","minutes","seconds","setTimeLeft","setTimeout","timerComponents","Object","keys","forEach","interval","push","children","length"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,MAAP,MAAmB,QAAnB;AAEA,eAAe,SAASC,YAAT,CAAsBC,KAAtB,EAA6B;AACxCC,EAAAA,OAAO,CAACC,GAAR,CAAY,OAAQF,KAAK,CAACG,IAA1B;AACAF,EAAAA,OAAO,CAACC,GAAR,CAAYE,IAAI,CAACC,KAAL,CAAY,IAAIC,IAAJ,CAASN,KAAK,CAACG,IAAf,IAAuB,IAAvB,GAA8B,EAA/B,GAAqC,EAAhD,CAAZ,EAFwC,CAGxC;AACA;AACA;;AAEA,QAAMI,iBAAiB,GAAG,MAAM;AAC5B,QAAIC,QAAQ,GAAGR,KAAK,CAACQ,QAArB;AAEA,UAAMC,UAAU,GAAG,CAACD,QAAD,GAAYR,KAAK,CAACG,IAArC;AACA,QAAIO,QAAQ,GAAG,EAAf;;AACA,QAAID,UAAU,GAAG,CAAjB,EAAoB;AAChBC,MAAAA,QAAQ,GAAG;AACPC,QAAAA,KAAK,EAAEP,IAAI,CAACC,KAAL,CAAYI,UAAU,IAAI,OAAO,EAAP,GAAY,EAAhB,CAAX,GAAkC,EAA7C,CADA;AAEPG,QAAAA,OAAO,EAAER,IAAI,CAACC,KAAL,CAAYI,UAAU,GAAG,IAAb,GAAoB,EAArB,GAA2B,EAAtC,CAFF;AAGPI,QAAAA,OAAO,EAAET,IAAI,CAACC,KAAL,CAAYI,UAAU,GAAG,IAAd,GAAsB,EAAjC;AAHF,OAAX;AAKH;;AACD,WAAOC,QAAP;AACH,GAbD,CAPwC,CAsBxC;AACA;AACA;AACA;AACA;AAEA;AACA;;;AAEA,QAAM,CAACA,QAAD,EAAWI,WAAX,IAA0BjB,QAAQ,CAACU,iBAAiB,EAAlB,CAAxC;AAEAX,EAAAA,SAAS,CAAC,MAAM;AACZmB,IAAAA,UAAU,CAAC,MAAM;AACbD,MAAAA,WAAW,CAACP,iBAAiB,EAAlB,CAAX;AACH,KAFS,EAEP,IAFO,CAAV;AAGH,GAJQ,CAAT;AAMA,QAAMS,eAAe,GAAG,EAAxB;AAGAC,EAAAA,MAAM,CAACC,IAAP,CAAYR,QAAZ,EAAsBS,OAAtB,CAA+BC,QAAD,IAAc;AACxC,QAAI,CAACV,QAAQ,CAACU,QAAD,CAAb,EAAyB;AACrB;AACH;;AAEDJ,IAAAA,eAAe,CAACK,IAAhB,eACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACKX,QAAQ,CAACU,QAAD,CADb,OAC0BA,QAD1B,EACoC,GADpC,CADJ;AAKH,GAVD;AAaA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKpB,KAAK,CAACsB,QAAX,CAFJ,EAGKN,eAAe,CAACO,MAAhB,GAAyBP,eAAzB,gBAA2C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAHhD,CADJ;AAOH","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport moment from 'moment';\r\n\r\nexport default function EachMerchant(props) {\r\n    console.log(typeof (props.time))\r\n    console.log(Math.floor((new Date(props.time) / 1000 / 60) % 60))\r\n    // console.log(props.duration);\r\n    // console.log(props.time);\r\n    // console.log(+props.duration - Math.floor((new Date(props.time) / 1000 / 60) % 60))\r\n\r\n    const calculateTimeLeft = () => {\r\n        let duration = props.duration;\r\n\r\n        const difference = +duration - props.time;\r\n        let timeLeft = {};\r\n        if (difference > 0) {\r\n            timeLeft = {\r\n                hours: Math.floor((difference / (1000 * 60 * 60)) % 24),\r\n                minutes: Math.floor((difference / 1000 / 60) % 60),\r\n                seconds: Math.floor((difference / 1000) % 60)\r\n            };\r\n        }\r\n        return timeLeft\r\n    };\r\n\r\n    // componentDidMount() {\r\n    //     fetch('/timeline')\r\n    //         .then(res => res.json())\r\n    //         .then(res => {\r\n    //             console.log(res)\r\n\r\n    //         })\r\n    // }\r\n\r\n    const [timeLeft, setTimeLeft] = useState(calculateTimeLeft());\r\n\r\n    useEffect(() => {\r\n        setTimeout(() => {\r\n            setTimeLeft(calculateTimeLeft());\r\n        }, 1000);\r\n    });\r\n\r\n    const timerComponents = [];\r\n\r\n\r\n    Object.keys(timeLeft).forEach((interval) => {\r\n        if (!timeLeft[interval]) {\r\n            return;\r\n        }\r\n\r\n        timerComponents.push(\r\n            <span>\r\n                {timeLeft[interval]} {interval}{\" \"}\r\n            </span>\r\n        );\r\n    });\r\n\r\n\r\n    return (\r\n        <div>\r\n            <h2>With React Hooks!</h2>\r\n            <h1>{props.children}</h1>\r\n            {timerComponents.length ? timerComponents : <span>Time's up!</span>}\r\n        </div>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}