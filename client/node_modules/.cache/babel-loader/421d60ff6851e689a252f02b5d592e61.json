{"ast":null,"code":"var _jsxFileName = \"/home/rlyz/wdi/sei-24-project-3/client/src/Components/Merchant Home/AllOrders/OrderList.js\";\nimport React from 'react';\nimport IndivOrder from './IndivOrder';\n\nclass OrderList extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      searchResult: [],\n      //result from API\n      ordersResult: [],\n      merchant_id: this.props.merchant_id,\n      html: \"\"\n    };\n    this.format = this.format.bind(this);\n  } //set state with props from parent: SEARCH\n\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    //mounting\n    return {\n      sort: nextProps.sort\n    };\n  }\n\n  componentDidMount() {\n    //mounting\n    if (this.props.display) {\n      fetch(\"/merchantorders/\" + this.state.merchant_id).then(res => res.json()).then(res => {\n        if (res.length < 1) {\n          this.setState({\n            html: 'You have no orders yet'\n          });\n        } else {\n          let formattedResult = this.format(res);\n          this.setState({\n            ordersResult: res,\n            html: formattedResult\n          });\n        }\n      }).catch(error => {\n        console.log(\"error happened--- at GET MERCHANT ORDER MOUNT\", error.message);\n      });\n    }\n  } //force the page to re-render\n\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.sort !== this.props.sort) {\n      this.sortMe(this.state.ordersResult, this.state.sort);\n      let sortedhtml = this.format(this.state.ordersResult);\n      this.setState({\n        html: sortedhtml\n      });\n    }\n  } //take the res.json and convert into nice HTML\n\n\n  format(array) {\n    return array.map((item, index) => {\n      let order_id = item.order_id;\n      let price = item.price;\n      let quantity = item.quantity;\n      let name = item.item_name;\n      let date = item.date_created;\n      let revenue = item.revenue;\n      return /*#__PURE__*/React.createElement(IndivOrder, {\n        order_id: order_id,\n        price: price,\n        quantity: quantity,\n        name: name,\n        date: date,\n        revenue: revenue,\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 20\n        }\n      });\n    });\n  } // sorts results based on selected category\n\n\n  sortMe(array, category) {\n    switch (category) {\n      case \"name\":\n        array.sort((a, b) => {\n          return b.item_name > a.item_name ? 1 : -1;\n        });\n        break;\n\n      case \"revenue\":\n        array.sort((a, b) => {\n          return b.revenue > a.revenue ? 1 : -1;\n        });\n        break;\n\n      default:\n        return array;\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"table\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 21\n      }\n    }, \"Order ID\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 21\n      }\n    }, \"Name\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 21\n      }\n    }, \"Quantity\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 21\n      }\n    }, \"Date\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 21\n      }\n    }, \"Revenue\")), this.state.html);\n  }\n\n}\n\nexport default OrderList;","map":{"version":3,"sources":["/home/rlyz/wdi/sei-24-project-3/client/src/Components/Merchant Home/AllOrders/OrderList.js"],"names":["React","IndivOrder","OrderList","Component","constructor","props","state","searchResult","ordersResult","merchant_id","html","format","bind","getDerivedStateFromProps","nextProps","prevState","sort","componentDidMount","display","fetch","then","res","json","length","setState","formattedResult","catch","error","console","log","message","componentDidUpdate","prevProps","sortMe","sortedhtml","array","map","item","index","order_id","price","quantity","name","item_name","date","date_created","revenue","category","a","b","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport IndivOrder from './IndivOrder'\n\n\n\n\nclass OrderList extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            searchResult: [], //result from API\n            ordersResult: [],\n            merchant_id: this.props.merchant_id,\n            html: \"\"\n        }\n        this.format = this.format.bind(this);\n    }\n\n    //set state with props from parent: SEARCH\n    static getDerivedStateFromProps(nextProps, prevState) {\n        //mounting\n        return { sort: nextProps.sort }\n    }\n\n    componentDidMount() {\n        //mounting\n        if (this.props.display) {\n            fetch(\"/merchantorders/\" + this.state.merchant_id)\n                .then(res => res.json())\n                .then(res => {\n                    if (res.length < 1) {\n                        this.setState({ html: 'You have no orders yet' })\n                    } else {\n                        let formattedResult = this.format(res);\n                        this.setState({ ordersResult: res, html: formattedResult })\n                    }\n                })\n                .catch(error => {\n                    console.log(\"error happened--- at GET MERCHANT ORDER MOUNT\", error.message)\n                });\n        }\n    }\n\n    //force the page to re-render\n    componentDidUpdate(prevProps) {\n        if (prevProps.sort !== this.props.sort) {\n            this.sortMe(this.state.ordersResult, this.state.sort)\n            let sortedhtml = this.format(this.state.ordersResult);\n            this.setState({ html: sortedhtml })\n        }\n    }\n\n\n    //take the res.json and convert into nice HTML\n    format(array) {\n        return array.map((item, index) => {\n            let order_id = item.order_id;\n            let price = item.price;\n            let quantity = item.quantity;\n            let name = item.item_name;\n            let date = item.date_created;\n            let revenue = item.revenue;\n\n            return <IndivOrder order_id={order_id} price={price} quantity={quantity} name={name} date={date} revenue={revenue} key={index} />\n        })\n    }\n\n    // sorts results based on selected category\n\n    sortMe(array, category) {\n        switch (category) {\n            case \"name\":\n                array.sort((a, b) => {\n                    return (b.item_name > a.item_name) ? 1 : -1\n                })\n                break;\n            case \"revenue\":\n                array.sort((a, b) => {\n                    return (b.revenue > a.revenue) ? 1 : -1\n                })\n                break;\n\n            default:\n                return array;\n\n        }\n    }\n\n\n    render() {\n        return (\n            <table>\n                <tr>\n                    <th>Order ID</th>\n                    <th>Name</th>\n                    <th>Quantity</th>\n                    <th>Date</th>\n                    <th>Revenue</th>\n                </tr>\n                {this.state.html}\n            </table>\n        )\n    }\n}\n\nexport default OrderList;"]},"metadata":{},"sourceType":"module"}