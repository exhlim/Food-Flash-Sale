{"ast":null,"code":"var _jsxFileName = \"/Users/aurelialim/wdi/SEI-24-Project-3/client/src/Components/User/OrderHistory/OrderDetails/RatingStarsContainer.js\";\nimport React, { Component } from \"react\";\nimport RatingStars from \"./RatingStars\";\n\nclass RatingStarsContainer extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      display: true,\n      html: \"\",\n      receipt_id: props.receipt_id,\n      user_id: props.user_id,\n      displayStar: true,\n      merchant_id: props.merchant_id\n    };\n    this.decide = this.decide.bind(this);\n    this.onSubmitHandler = this.onSubmitHandler.bind(this);\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.user_id !== this.state.user_id) {\n      this.setState({\n        listing_id: \"hello\"\n      });\n    }\n  }\n\n  onSubmitHandler(e) {\n    console.log(\"clicked star\");\n    e.preventDefault();\n    this.setState({\n      submitted: true,\n      rating: e.target.value\n    });\n  }\n\n  componentDidMount() {\n    if (this.state.display) {\n      fetch(`/getratingsuser/${this.state.user_id}/${this.state.receipt_id}`).then(res => res.json()).then(res => this.setState({\n        displayStar: this.decide(res)\n      }));\n    }\n  } //helper function\n\n\n  decide(array) {\n    let displayStar;\n\n    if (array.rating_stars === null) {\n      displayStar = true;\n    } else {\n      displayStar = false;\n    }\n\n    return displayStar;\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(RatingStars, {\n      displayStar: this.state.displayStar,\n      receipt_id: this.state.receipt_id,\n      user_id: this.state.user_id,\n      listing_id: this.props.listing_id,\n      merchant_id: this.state.merchant_id,\n      onClick: this.onSubmitHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}\n\nexport default RatingStarsContainer;","map":{"version":3,"sources":["/Users/aurelialim/wdi/SEI-24-Project-3/client/src/Components/User/OrderHistory/OrderDetails/RatingStarsContainer.js"],"names":["React","Component","RatingStars","RatingStarsContainer","constructor","props","state","display","html","receipt_id","user_id","displayStar","merchant_id","decide","bind","onSubmitHandler","componentDidUpdate","prevProps","prevState","setState","listing_id","e","console","log","preventDefault","submitted","rating","target","value","componentDidMount","fetch","then","res","json","array","rating_stars","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,WAAP,MAAwB,eAAxB;;AAEA,MAAMC,oBAAN,SAAmCF,SAAnC,CAA6C;AAC3CG,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,OAAO,EAAE,IADE;AAEXC,MAAAA,IAAI,EAAE,EAFK;AAGXC,MAAAA,UAAU,EAAEJ,KAAK,CAACI,UAHP;AAIXC,MAAAA,OAAO,EAAEL,KAAK,CAACK,OAJJ;AAKXC,MAAAA,WAAW,EAAE,IALF;AAMXC,MAAAA,WAAW,EAAEP,KAAK,CAACO;AANR,KAAb;AAQA,SAAKC,MAAL,GAAc,KAAKA,MAAL,CAAYC,IAAZ,CAAiB,IAAjB,CAAd;AACA,SAAKC,eAAL,GAAuB,KAAKA,eAAL,CAAqBD,IAArB,CAA0B,IAA1B,CAAvB;AACD;;AAEDE,EAAAA,kBAAkB,CAACC,SAAD,EAAYC,SAAZ,EAAuB;AACvC,QAAIA,SAAS,CAACR,OAAV,KAAsB,KAAKJ,KAAL,CAAWI,OAArC,EAA8C;AAC5C,WAAKS,QAAL,CAAc;AAAEC,QAAAA,UAAU,EAAE;AAAd,OAAd;AACD;AACF;;AACDL,EAAAA,eAAe,CAACM,CAAD,EAAI;AACjBC,IAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ;AACAF,IAAAA,CAAC,CAACG,cAAF;AACA,SAAKL,QAAL,CAAc;AAAEM,MAAAA,SAAS,EAAE,IAAb;AAAmBC,MAAAA,MAAM,EAAEL,CAAC,CAACM,MAAF,CAASC;AAApC,KAAd;AACD;;AACDC,EAAAA,iBAAiB,GAAG;AAClB,QAAI,KAAKvB,KAAL,CAAWC,OAAf,EAAwB;AACtBuB,MAAAA,KAAK,CAAE,mBAAkB,KAAKxB,KAAL,CAAWI,OAAQ,IAAG,KAAKJ,KAAL,CAAWG,UAAW,EAAhE,CAAL,CACGsB,IADH,CACSC,GAAD,IAASA,GAAG,CAACC,IAAJ,EADjB,EAEGF,IAFH,CAESC,GAAD,IAAS,KAAKb,QAAL,CAAc;AAAER,QAAAA,WAAW,EAAE,KAAKE,MAAL,CAAYmB,GAAZ;AAAf,OAAd,CAFjB;AAGD;AACF,GA/B0C,CAiC3C;;;AACAnB,EAAAA,MAAM,CAACqB,KAAD,EAAQ;AACZ,QAAIvB,WAAJ;;AACA,QAAIuB,KAAK,CAACC,YAAN,KAAuB,IAA3B,EAAiC;AAC/BxB,MAAAA,WAAW,GAAG,IAAd;AACD,KAFD,MAEO;AACLA,MAAAA,WAAW,GAAG,KAAd;AACD;;AACD,WAAOA,WAAP;AACD;;AACDyB,EAAAA,MAAM,GAAG;AACP,wBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,WAAD;AACE,MAAA,WAAW,EAAE,KAAK9B,KAAL,CAAWK,WAD1B;AAEE,MAAA,UAAU,EAAE,KAAKL,KAAL,CAAWG,UAFzB;AAGE,MAAA,OAAO,EAAE,KAAKH,KAAL,CAAWI,OAHtB;AAIE,MAAA,UAAU,EAAE,KAAKL,KAAL,CAAWe,UAJzB;AAKE,MAAA,WAAW,EAAE,KAAKd,KAAL,CAAWM,WAL1B;AAME,MAAA,OAAO,EAAE,KAAKG,eANhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADF;AAYD;;AAxD0C;;AA2D7C,eAAeZ,oBAAf","sourcesContent":["import React, { Component } from \"react\";\nimport RatingStars from \"./RatingStars\";\n\nclass RatingStarsContainer extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      display: true,\n      html: \"\",\n      receipt_id: props.receipt_id,\n      user_id: props.user_id,\n      displayStar: true,\n      merchant_id: props.merchant_id,\n    };\n    this.decide = this.decide.bind(this);\n    this.onSubmitHandler = this.onSubmitHandler.bind(this);\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.user_id !== this.state.user_id) {\n      this.setState({ listing_id: \"hello\" });\n    }\n  }\n  onSubmitHandler(e) {\n    console.log(\"clicked star\");\n    e.preventDefault();\n    this.setState({ submitted: true, rating: e.target.value });\n  }\n  componentDidMount() {\n    if (this.state.display) {\n      fetch(`/getratingsuser/${this.state.user_id}/${this.state.receipt_id}`)\n        .then((res) => res.json())\n        .then((res) => this.setState({ displayStar: this.decide(res) }));\n    }\n  }\n\n  //helper function\n  decide(array) {\n    let displayStar;\n    if (array.rating_stars === null) {\n      displayStar = true;\n    } else {\n      displayStar = false;\n    }\n    return displayStar;\n  }\n  render() {\n    return (\n      <div>\n        <RatingStars\n          displayStar={this.state.displayStar}\n          receipt_id={this.state.receipt_id}\n          user_id={this.state.user_id}\n          listing_id={this.props.listing_id}\n          merchant_id={this.state.merchant_id}\n          onClick={this.onSubmitHandler}\n        />\n      </div>\n    );\n  }\n}\n\nexport default RatingStarsContainer;\n"]},"metadata":{},"sourceType":"module"}