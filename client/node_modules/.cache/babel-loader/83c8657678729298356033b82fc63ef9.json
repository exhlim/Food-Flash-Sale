{"ast":null,"code":"var _jsxFileName = \"/Users/aurelialim/wdi/SEI-24-Project-3/client/src/Components/User/OrderHistory/OrderDetails/RatingStarsContainer.js\";\nimport React, { Component } from \"react\";\nimport RatingStars from \"./RatingStars\";\n\nclass RatingStarsContainer extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      display: true,\n      html: \"\",\n      receipt_id: props.receipt_id,\n      user_id: props.user_id,\n      displayStar: true,\n      merchant_id: props.merchant_id,\n      listing_id: props.listing_id\n    };\n    this.decide = this.decide.bind(this);\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.user_id !== this.state.user_id) {\n      this.setState({\n        listing_id: \"hello\"\n      });\n    }\n  }\n\n  componentDidMount() {\n    if (this.state.display) {\n      fetch(`/getratingsuser/${this.state.user_id}/${this.state.receipt_id}`).then(res => res.json()).then(res => this.setState({\n        displayStar: this.decide(res)\n      }));\n    }\n  } //helper function\n\n\n  decide(array) {\n    let displayStar;\n\n    if (array[0].rating_stars === null) {\n      displayStar = true;\n    } else {\n      displayStar = false;\n    }\n\n    return displayStar;\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(RatingStars, {\n      displayStar: this.state.displayStar,\n      receipt_id: this.state.receipt_id,\n      user_id: this.state.user_id,\n      listing_id: this.state.listing_id,\n      merchant_id: this.state.merchant_id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}\n\nexport default RatingStarsContainer;","map":{"version":3,"sources":["/Users/aurelialim/wdi/SEI-24-Project-3/client/src/Components/User/OrderHistory/OrderDetails/RatingStarsContainer.js"],"names":["React","Component","RatingStars","RatingStarsContainer","constructor","props","state","display","html","receipt_id","user_id","displayStar","merchant_id","listing_id","decide","bind","componentDidUpdate","prevProps","prevState","setState","componentDidMount","fetch","then","res","json","array","rating_stars","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,WAAP,MAAwB,eAAxB;;AAEA,MAAMC,oBAAN,SAAmCF,SAAnC,CAA6C;AAC3CG,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,OAAO,EAAE,IADE;AAEXC,MAAAA,IAAI,EAAE,EAFK;AAGXC,MAAAA,UAAU,EAAEJ,KAAK,CAACI,UAHP;AAIXC,MAAAA,OAAO,EAAEL,KAAK,CAACK,OAJJ;AAKXC,MAAAA,WAAW,EAAE,IALF;AAMXC,MAAAA,WAAW,EAAEP,KAAK,CAACO,WANR;AAOXC,MAAAA,UAAU,EAAER,KAAK,CAACQ;AAPP,KAAb;AASA,SAAKC,MAAL,GAAc,KAAKA,MAAL,CAAYC,IAAZ,CAAiB,IAAjB,CAAd;AACD;;AAEDC,EAAAA,kBAAkB,CAACC,SAAD,EAAYC,SAAZ,EAAuB;AACvC,QAAIA,SAAS,CAACR,OAAV,KAAsB,KAAKJ,KAAL,CAAWI,OAArC,EAA8C;AAC5C,WAAKS,QAAL,CAAc;AAAEN,QAAAA,UAAU,EAAE;AAAd,OAAd;AACD;AACF;;AAEDO,EAAAA,iBAAiB,GAAG;AAClB,QAAI,KAAKd,KAAL,CAAWC,OAAf,EAAwB;AACtBc,MAAAA,KAAK,CAAE,mBAAkB,KAAKf,KAAL,CAAWI,OAAQ,IAAG,KAAKJ,KAAL,CAAWG,UAAW,EAAhE,CAAL,CACGa,IADH,CACSC,GAAD,IAASA,GAAG,CAACC,IAAJ,EADjB,EAEGF,IAFH,CAESC,GAAD,IAAS,KAAKJ,QAAL,CAAc;AAAER,QAAAA,WAAW,EAAE,KAAKG,MAAL,CAAYS,GAAZ;AAAf,OAAd,CAFjB;AAGD;AACF,GA3B0C,CA6B3C;;;AACAT,EAAAA,MAAM,CAACW,KAAD,EAAQ;AACZ,QAAId,WAAJ;;AACA,QAAIc,KAAK,CAAC,CAAD,CAAL,CAASC,YAAT,KAA0B,IAA9B,EAAoC;AAClCf,MAAAA,WAAW,GAAG,IAAd;AACD,KAFD,MAEO;AACLA,MAAAA,WAAW,GAAG,KAAd;AACD;;AACD,WAAOA,WAAP;AACD;;AACDgB,EAAAA,MAAM,GAAG;AACP,wBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,WAAD;AACE,MAAA,WAAW,EAAE,KAAKrB,KAAL,CAAWK,WAD1B;AAEE,MAAA,UAAU,EAAE,KAAKL,KAAL,CAAWG,UAFzB;AAGE,MAAA,OAAO,EAAE,KAAKH,KAAL,CAAWI,OAHtB;AAIE,MAAA,UAAU,EAAE,KAAKJ,KAAL,CAAWO,UAJzB;AAKE,MAAA,WAAW,EAAE,KAAKP,KAAL,CAAWM,WAL1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADF;AAWD;;AAnD0C;;AAsD7C,eAAeT,oBAAf","sourcesContent":["import React, { Component } from \"react\";\nimport RatingStars from \"./RatingStars\";\n\nclass RatingStarsContainer extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      display: true,\n      html: \"\",\n      receipt_id: props.receipt_id,\n      user_id: props.user_id,\n      displayStar: true,\n      merchant_id: props.merchant_id,\n      listing_id: props.listing_id,\n    };\n    this.decide = this.decide.bind(this);\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.user_id !== this.state.user_id) {\n      this.setState({ listing_id: \"hello\" });\n    }\n  }\n\n  componentDidMount() {\n    if (this.state.display) {\n      fetch(`/getratingsuser/${this.state.user_id}/${this.state.receipt_id}`)\n        .then((res) => res.json())\n        .then((res) => this.setState({ displayStar: this.decide(res) }));\n    }\n  }\n\n  //helper function\n  decide(array) {\n    let displayStar;\n    if (array[0].rating_stars === null) {\n      displayStar = true;\n    } else {\n      displayStar = false;\n    }\n    return displayStar;\n  }\n  render() {\n    return (\n      <div>\n        <RatingStars\n          displayStar={this.state.displayStar}\n          receipt_id={this.state.receipt_id}\n          user_id={this.state.user_id}\n          listing_id={this.state.listing_id}\n          merchant_id={this.state.merchant_id}\n        />\n      </div>\n    );\n  }\n}\n\nexport default RatingStarsContainer;\n"]},"metadata":{},"sourceType":"module"}