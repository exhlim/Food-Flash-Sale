{"ast":null,"code":"import _classCallCheck from\"/Users/eugenelim/Desktop/wdi/SEI-24-Project-3/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/eugenelim/Desktop/wdi/SEI-24-Project-3/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/eugenelim/Desktop/wdi/SEI-24-Project-3/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/eugenelim/Desktop/wdi/SEI-24-Project-3/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import EachMerchant from'./EachMerchant/EachMerchant';import OrderHistory from'../OrderHistory/OrderHistory';import{Route,Link,Redirect,Switch}from'react-router-dom';import IndivListing from'../IndivStore/IndivListing';import ListingContainer from'../IndivStore/ListingContainer';var TimeLine=/*#__PURE__*/function(_Component){_inherits(TimeLine,_Component);var _super=_createSuper(TimeLine);function TimeLine(){var _this;_classCallCheck(this,TimeLine);_this=_super.call(this);_this.state={timeLine:[]};return _this;}_createClass(TimeLine,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;fetch('/timeline').then(function(res){return res.json();}).then(function(res){console.log(res);_this2.setState({timeLine:res});});}},{key:\"render\",value:function render(){var merchantCard=this.state.timeLine.map(function(eachCard,index){var discount=(eachCard.unit_price-eachCard.price_floor)/eachCard.unit_price*100;var path=\"/\"+eachCard.merchant_id;return/*#__PURE__*/React.createElement(Link,{to:path},/*#__PURE__*/React.createElement(\"div\",{className:\"indMerc\"},/*#__PURE__*/React.createElement(EachMerchant,{key:index,duration:eachCard.time_limit_min,time:eachCard.time,merchant_Id:eachCard.merchant_id},/*#__PURE__*/React.createElement(\"div\",null,eachCard.name),/*#__PURE__*/React.createElement(\"div\",null,\"up to\",discount,\"%\"))));});var routeArray=this.state.timeLine.map(function(eachCard,index){var path=\"/\"+eachCard.merchant_id;return/*#__PURE__*/React.createElement(Route,{path:path,render:function render(){return/*#__PURE__*/React.createElement(ListingContainer,{merchant_id:eachCard.merchant_id});}});});return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"navbar\"},/*#__PURE__*/React.createElement(\"div\",null,\"Image here\"),/*#__PURE__*/React.createElement(Link,{className:\"login break\",to:\"/Timeline\"},\"Timeline\"),/*#__PURE__*/React.createElement(Link,{className:\"login break\",to:\"/Orderhistory\"},\"Order history\"),/*#__PURE__*/React.createElement(\"button\",{onClick:this.props.onLogout},\"Log out\")),/*#__PURE__*/React.createElement(\"main\",null,/*#__PURE__*/React.createElement(Switch,null,routeArray,/*#__PURE__*/React.createElement(Route,{path:\"/Orderhistory\",render:function render(){return/*#__PURE__*/React.createElement(OrderHistory,null);}}),/*#__PURE__*/React.createElement(Route,{path:\"/\",render:function render(){return/*#__PURE__*/React.createElement(\"div\",null,merchantCard);}}))));}}]);return TimeLine;}(Component);export{TimeLine as default};","map":{"version":3,"sources":["/Users/eugenelim/Desktop/wdi/SEI-24-Project-3/client/src/Components/User/TimeLine/TimeLine.js"],"names":["React","Component","EachMerchant","OrderHistory","Route","Link","Redirect","Switch","IndivListing","ListingContainer","TimeLine","state","timeLine","fetch","then","res","json","console","log","setState","merchantCard","map","eachCard","index","discount","unit_price","price_floor","path","merchant_id","time_limit_min","time","name","routeArray","props","onLogout"],"mappings":"4pBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,YAAP,KAAyB,6BAAzB,CACA,MAAOC,CAAAA,YAAP,KAAyB,8BAAzB,CACA,OAAQC,KAAR,CAAeC,IAAf,CAAqBC,QAArB,CAA+BC,MAA/B,KAA4C,kBAA5C,CACA,MAAOC,CAAAA,YAAP,KAAyB,4BAAzB,CACA,MAAOC,CAAAA,gBAAP,KAA6B,gCAA7B,C,GACqBC,CAAAA,Q,oGACjB,mBAAc,0CACV,wBACA,MAAKC,KAAL,CAAa,CACTC,QAAQ,CAAE,EADD,CAAb,CAFU,aAKb,C,kFACmB,iBAChBC,KAAK,CAAC,WAAD,CAAL,CACKC,IADL,CACU,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAJ,EAAJ,EADb,EAEKF,IAFL,CAEU,SAAAC,GAAG,CAAI,CACTE,OAAO,CAACC,GAAR,CAAYH,GAAZ,EACA,MAAI,CAACI,QAAL,CAAc,CACVP,QAAQ,CAAEG,GADA,CAAd,EAGH,CAPL,EAQH,C,uCACQ,CACL,GAAMK,CAAAA,YAAY,CAAG,KAAKT,KAAL,CAAWC,QAAX,CAAoBS,GAApB,CAAwB,SAACC,QAAD,CAAWC,KAAX,CAAqB,CAC9D,GAAMC,CAAAA,QAAQ,CAAG,CAACF,QAAQ,CAACG,UAAT,CAAsBH,QAAQ,CAACI,WAAhC,EAA+CJ,QAAQ,CAACG,UAAxD,CAAqE,GAAtF,CACA,GAAIE,CAAAA,IAAI,CAAG,IAAML,QAAQ,CAACM,WAA1B,CACA,mBAAO,oBAAC,IAAD,EAAM,EAAE,CAAED,IAAV,eACP,2BAAK,SAAS,CAAC,SAAf,eACI,oBAAC,YAAD,EAAc,GAAG,CAAEJ,KAAnB,CAA0B,QAAQ,CAAED,QAAQ,CAACO,cAA7C,CAA6D,IAAI,CAAEP,QAAQ,CAACQ,IAA5E,CAAkF,WAAW,CAAER,QAAQ,CAACM,WAAxG,eACI,+BAAMN,QAAQ,CAACS,IAAf,CADJ,cAEI,uCAAWP,QAAX,KAFJ,CADJ,CADO,CAAP,CAQH,CAXoB,CAArB,CAYA,GAAMQ,CAAAA,UAAU,CAAG,KAAKrB,KAAL,CAAWC,QAAX,CAAoBS,GAApB,CAAwB,SAACC,QAAD,CAAWC,KAAX,CAAqB,CAC5D,GAAII,CAAAA,IAAI,CAAG,IAAML,QAAQ,CAACM,WAA1B,CACA,mBAAO,oBAAC,KAAD,EAAO,IAAI,CAAED,IAAb,CAAmB,MAAM,CAChB,qCAAK,oBAAC,gBAAD,EAAkB,WAAW,CAAEL,QAAQ,CAACM,WAAxC,EAAL,EADT,EAAP,CAGH,CALkB,CAAnB,CAMA,mBACI,4CACI,2BAAK,SAAS,CAAC,QAAf,eACI,4CADJ,cAEI,oBAAC,IAAD,EAAM,SAAS,CAAC,aAAhB,CAA8B,EAAE,CAAC,WAAjC,aAFJ,cAGI,oBAAC,IAAD,EAAM,SAAS,CAAC,aAAhB,CAA8B,EAAE,CAAC,eAAjC,kBAHJ,cAII,8BAAQ,OAAO,CAAE,KAAKK,KAAL,CAAWC,QAA5B,YAJJ,CADJ,cAOI,6CACI,oBAAC,MAAD,MACKF,UADL,cAEI,oBAAC,KAAD,EAAO,IAAI,CAAC,eAAZ,CAA4B,MAAM,CAC9B,qCAAI,oBAAC,YAAD,MAAJ,EADJ,EAFJ,cAKI,oBAAC,KAAD,EAAO,IAAI,CAAC,GAAZ,CAAgB,MAAM,CAClB,qCAAK,+BAAMZ,YAAN,CAAL,EADJ,EALJ,CADJ,CAPJ,CADJ,CAqBH,C,sBAzDiCnB,S,SAAjBS,Q","sourcesContent":["import React, { Component } from 'react'\nimport EachMerchant from './EachMerchant/EachMerchant'\nimport OrderHistory from '../OrderHistory/OrderHistory'\nimport {Route, Link, Redirect, Switch} from 'react-router-dom'\nimport IndivListing from '../IndivStore/IndivListing'\nimport ListingContainer from '../IndivStore/ListingContainer'\nexport default class TimeLine extends Component {\n    constructor() {\n        super()\n        this.state = {\n            timeLine: []\n        }\n    }\n    componentDidMount() {\n        fetch('/timeline')\n            .then(res => res.json())\n            .then(res => {\n                console.log(res)\n                this.setState({\n                    timeLine: res\n                })\n            })\n    }\n    render() {\n        const merchantCard = this.state.timeLine.map((eachCard, index) => {\n            const discount = (eachCard.unit_price - eachCard.price_floor) / eachCard.unit_price * 100\n            let path = \"/\" + eachCard.merchant_id\n            return <Link to={path}>\n            <div className=\"indMerc\" >\n                <EachMerchant key={index} duration={eachCard.time_limit_min} time={eachCard.time} merchant_Id={eachCard.merchant_id}>\n                    <div>{eachCard.name}</div>\n                    <div>up to{discount}%</div>\n                </EachMerchant>\n            </div>\n            </Link>\n        })\n        const routeArray = this.state.timeLine.map((eachCard, index) => {\n            let path = \"/\" + eachCard.merchant_id\n            return <Route path={path} render={\n                            ()=> <ListingContainer merchant_id={eachCard.merchant_id} />\n                        }/>\n        })\n        return (\n            <div>\n                <div className=\"navbar\">\n                    <div>Image here</div>\n                    <Link className=\"login break\" to=\"/Timeline\">Timeline</Link>\n                    <Link className=\"login break\" to=\"/Orderhistory\">Order history</Link>\n                    <button onClick={this.props.onLogout}>Log out</button>\n                </div>\n                <main>\n                    <Switch>\n                        {routeArray}\n                        <Route path=\"/Orderhistory\" render = {\n                            ()=><OrderHistory />\n                        }/>\n                        <Route path=\"/\" render= {\n                            ()=> <div>{merchantCard}</div>\n                        }/>\n                    </Switch>\n                </main>\n            </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}